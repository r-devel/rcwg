2025-12-11

Facilitator: Ella Kaye
Present: Hugo Gruson

### Issue brought by Hugo Gruson
- setGeneric() in S4: https://github.com/hadley/adv-r/blob/dc49c3872c3530ac08716fd4f4c235b01266a4ce/S4.Rmd#L345-L352
- https://github.com/r-lib/lintr/issues/1968
- Defined here in methods: https://github.com/r-devel/r-svn/blob/097aac926efd9beed35fec21b4f2be14ad8453b4/src/library/methods/R/RMethodUtils.R#L1227-L1235
- Unintuitive that the formatting of the function affects its execution
- Could implement a change in the methods package so that these functions with `{}` are treated as if they don't have the `{}`
- Or, change in the `identical()` function:
    - `f <- function(x) mean(x)` identical to `g <- function(x) { mean(x) }`
    - Currently `f` and `g` are not `identical`. Could/should they be?
    - Calling `identical()` on two functions compares the character string of the function body.
- Pros of the change in `identical()`: this is the intuitive place to do it, could have other positive effects, but maybe some negative ones. It would likely be a breaking change.
- Pros of making the change in the methods package: only effects the problem we're trying to solve so unlikely to be a breaking change, but perhaps less intuitive.
- This issue is frustrating in part because it clashes with automated formatters like Air
- Hugo to raise this in the #wishlist-discuss chanel of the R Contributor Slack, and to raise on r-devel mailing if no response there in a week or so (or maybe after the holidays)
- Measure the real world impact of not triggering the special case
- Ella to bring this up at the AMER office hour later today, with Heather and Paul Murrell and report back to Hugo

### Issue in `array` brought by Hugo Gruson
- `array(data, dim, dimnames)`
- https://github.com/r-devel/r-svn/blob/1c9c1b8f50f1509644b46fb63dc57d436e903fa2/src/main/array.c#L2172C1-L2172C59
- If `dim` is `NULL`, get error message "'dims' cannot be of length 0" but it would surely be better to have "'dim' cannot be of length 0" to match arg name.
- Currently the variable in the C code is `dims`, so the current error message matches that var name, rather than the R var name.
- Hugo to open an issue in https://github.com/r-devel/r-dev-day as this would be a good first patch for a novice contributor

### Wishlist idea from Hugo
- Would be good to have a way to know in which R version specific features became effective.
- Currently, can go to https://github.com/r-devel/r-svn and look at date of commit and try to match it manually.
- Would be preferrable if https://github.com/r-devel/r-svn had tagged releases
- Would be nice if the releases tab then also contained the NEWS items relevant to that release
- This goes beyond new features though. It would be useful for small internal changes that aren't user-facing. These can still introduce bugs or change behaviour, so would be good to know when they happened.
- r-svn only tracks the trunk
- Heather can ask Jeroon if it's possible to track other branches
- Proposal to implement patch branches as branches in r-svn

