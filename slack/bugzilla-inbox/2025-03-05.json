[
    {
        "subtype": "bot_message",
        "text": "*[Bug 18663] Add 'contrib' modules to opencv*\n<https:\/\/bugs.r-project.org\/show_bug.cgi?id=18663>\n\nTomas Kalibera (<mailto:tomas.kalibera@gmail.com|tomas.kalibera@gmail.com>) changed:\n\n           What    |Removed                     |Added\n----------------------------------------------------------------------------\n             Status|CONFIRMED                   |CLOSED\n         Resolution|---                         |FIXED\n\n--- Comment #2 from Tomas Kalibera (<mailto:tomas.kalibera@gmail.com|tomas.kalibera@gmail.com>) ---\nI've added the contributed opencv modules to the development version of Rtools\n(to become Rtools45).",
        "username": "r-bugs notifier",
        "icons": {
            "emoji": ":robot_face:"
        },
        "type": "message",
        "ts": "1741176655.966099",
        "bot_id": "B06769YJX9Q",
        "app_id": "A024R9PQM",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "8g60",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "[Bug 18663] Add 'contrib' modules to opencv",
                                "style": {
                                    "bold": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "\n"
                            },
                            {
                                "type": "link",
                                "url": "https:\/\/bugs.r-project.org\/show_bug.cgi?id=18663"
                            },
                            {
                                "type": "text",
                                "text": "\n\nTomas Kalibera ("
                            },
                            {
                                "type": "link",
                                "url": "mailto:tomas.kalibera@gmail.com",
                                "text": "tomas.kalibera@gmail.com"
                            },
                            {
                                "type": "text",
                                "text": ") changed:\n\n           What    |Removed                     |Added\n----------------------------------------------------------------------------\n             Status|CONFIRMED                   |CLOSED\n         Resolution|---                         |FIXED\n\n--- Comment #2 from Tomas Kalibera ("
                            },
                            {
                                "type": "link",
                                "url": "mailto:tomas.kalibera@gmail.com",
                                "text": "tomas.kalibera@gmail.com"
                            },
                            {
                                "type": "text",
                                "text": ") ---\nI've added the contributed opencv modules to the development version of Rtools\n(to become Rtools45)."
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "subtype": "bot_message",
        "text": "*[Bug 18663] Add 'contrib' modules to opencv*\n<https:\/\/bugs.r-project.org\/show_bug.cgi?id=18663>\n\n--- Comment #3 from Jeroen Ooms (<mailto:jeroenooms@gmail.com|jeroenooms@gmail.com>) ---\nThank you, once a beta of rtools45 is available I will test this in the opencv\npackage.",
        "username": "r-bugs notifier",
        "icons": {
            "emoji": ":robot_face:"
        },
        "type": "message",
        "ts": "1741177361.166309",
        "bot_id": "B06769YJX9Q",
        "app_id": "A024R9PQM",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "Gyc",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "[Bug 18663] Add 'contrib' modules to opencv",
                                "style": {
                                    "bold": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "\n"
                            },
                            {
                                "type": "link",
                                "url": "https:\/\/bugs.r-project.org\/show_bug.cgi?id=18663"
                            },
                            {
                                "type": "text",
                                "text": "\n\n--- Comment #3 from Jeroen Ooms ("
                            },
                            {
                                "type": "link",
                                "url": "mailto:jeroenooms@gmail.com",
                                "text": "jeroenooms@gmail.com"
                            },
                            {
                                "type": "text",
                                "text": ") ---\nThank you, once a beta of rtools45 is available I will test this in the opencv\npackage."
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "subtype": "bot_message",
        "text": "*[Bug 18663] Add 'contrib' modules to opencv*\n<https:\/\/bugs.r-project.org\/show_bug.cgi?id=18663>\n\n--- Comment #4 from Tomas Kalibera (<mailto:tomas.kalibera@gmail.com|tomas.kalibera@gmail.com>) ---\n(In reply to Jeroen Ooms from comment #3)\n&gt; Thank you, once a beta of rtools45 is available I will test this in the\n&gt; opencv package.\n\nI've ran R CMD INSTALL and R CMD check with opencv and image.textlinedetector\non x86_64. The pkg-config package is opencv4 and the data is under\n${R_TOOLS_SOFT}\/share\/opencv4\/.",
        "username": "r-bugs notifier",
        "icons": {
            "emoji": ":robot_face:"
        },
        "type": "message",
        "ts": "1741178586.289789",
        "bot_id": "B06769YJX9Q",
        "app_id": "A024R9PQM",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "cb=h",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "[Bug 18663] Add 'contrib' modules to opencv",
                                "style": {
                                    "bold": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "\n"
                            },
                            {
                                "type": "link",
                                "url": "https:\/\/bugs.r-project.org\/show_bug.cgi?id=18663"
                            },
                            {
                                "type": "text",
                                "text": "\n\n--- Comment #4 from Tomas Kalibera ("
                            },
                            {
                                "type": "link",
                                "url": "mailto:tomas.kalibera@gmail.com",
                                "text": "tomas.kalibera@gmail.com"
                            },
                            {
                                "type": "text",
                                "text": ") ---\n(In reply to Jeroen Ooms from comment #3)"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_quote",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Thank you, once a beta of rtools45 is available I will test this in the\nopencv package."
                            }
                        ]
                    },
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "\n\nI've ran R CMD INSTALL and R CMD check with opencv and image.textlinedetector\non x86_64. The pkg-config package is opencv4 and the data is under\n${R_TOOLS_SOFT}\/share\/opencv4\/."
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "subtype": "bot_message",
        "text": "*[Bug 18865] Tweak: use any()\/!any over length(grep()) &gt;0 \/ ==0*\n<https:\/\/bugs.r-project.org\/show_bug.cgi?id=18865>\n\n--- Comment #1 from Michael Chirico (<mailto:michaelchirico4@gmail.com|michaelchirico4@gmail.com>) ---\nLluís Revilla pointed out we can also use `fixed=TRUE`, i.e.\n`grepl(\"UseMethod\", deparse(f), fixed = TRUE)`, for a tiny improvement in the\nchange to methods\/R\/RClassUtils.R:classesToAM\n\n(I can't easily update the patch at the moment)",
        "username": "r-bugs notifier",
        "icons": {
            "emoji": ":robot_face:"
        },
        "type": "message",
        "ts": "1741195462.506879",
        "bot_id": "B06769YJX9Q",
        "app_id": "A024R9PQM",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "quECZ",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "[Bug 18865] Tweak: use any()\/!any over length(grep()) >0 \/ ==0",
                                "style": {
                                    "bold": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "\n"
                            },
                            {
                                "type": "link",
                                "url": "https:\/\/bugs.r-project.org\/show_bug.cgi?id=18865"
                            },
                            {
                                "type": "text",
                                "text": "\n\n--- Comment #1 from Michael Chirico ("
                            },
                            {
                                "type": "link",
                                "url": "mailto:michaelchirico4@gmail.com",
                                "text": "michaelchirico4@gmail.com"
                            },
                            {
                                "type": "text",
                                "text": ") ---\nLluís Revilla pointed out we can also use "
                            },
                            {
                                "type": "text",
                                "text": "fixed=TRUE",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": ", i.e.\n"
                            },
                            {
                                "type": "text",
                                "text": "grepl(\"UseMethod\", deparse(f), fixed = TRUE)",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": ", for a tiny improvement in the\nchange to methods\/R\/RClassUtils.R:classesToAM\n\n(I can't easily update the patch at the moment)"
                            }
                        ]
                    }
                ]
            }
        ],
        "reactions": [
            {
                "name": "sweat_smile",
                "users": [
                    "U01KXU8UNRX"
                ],
                "count": 1
            }
        ]
    },
    {
        "subtype": "bot_message",
        "text": "*[Bug 18866] New: grid.cap() and dev.capture() issues*\n<https:\/\/bugs.r-project.org\/show_bug.cgi?id=18866>\n\n            Bug ID: 18866\n           Summary: grid.cap() and dev.capture() issues\n           Product: R\n           Version: R-devel (trunk)\n          Hardware: All\n                OS: All\n            Status: UNCONFIRMED\n          Severity: minor\n          Priority: P5\n         Component: Graphics\n          Assignee: <mailto:R-core@R-project.org|R-core@R-project.org>\n          Reporter: <mailto:trevor.l.davis@gmail.com|trevor.l.davis@gmail.com>\n\nCreated attachment 3465\n  --&gt; <https:\/\/bugs.r-project.org\/attachment.cgi?id=3465&amp;action=edit>\nPatch to address grid.cap() and dev.capture() issues\n\nI observe four issues with `grid::grid.cap()` and `grDevices::dev.capture()`:\n\n1. The `Details` in `?grid.cap` says \"This function is only implemented for\non-screen graphics devices.\"  However this statement is false e.g.\n`ragg::agg_capture()` supports `grid.cap()` and is not an on-screen graphics\ndevice.  It would be better instead to use something like the `Details` from\n`?dev.capture`.\n\n2. The documentation in `dev.capabilities()` only notes that if `capture` is\n`TRUE` then `grid.cap()` is supported.  It would be better if it instead notes\nthat if `capture` is `TRUE` then (both) `dev.capture()` and `grid.cap()` are\nsupported.  I had to look at the C code in both {grid} and {grDevices} to\nconfirm this is true, it would be nice if the documentation points this out.\n\n3. The C code for `grid::grid.cap()` (function `L_cap`) and the C code for\n`grDevices::dev.capture()` (function `devcapture`) are almost identical except\nthe latter has a couple extra lines to add support for native rasters if\n`native = TRUE`.  Also {grid} currently imports all of {grDevices} into its\nnamespace so `dev.capture()` is already in {grid}'s namespace.  I speculate\nthat it may make sense to delete this mostly duplicated C code in {grid} and\nsimply make `grid.cap()` a wrapper to `dev.capture()`.\n4. `grid::grid.raster()` and `grid::rasterGrob()` also support native rasters\nso {grid} users using `grid.cap()` may also want support for a `native = TRUE`\nargument (which is already supported by `dev.capture()` but not yet in\n`grid.cap()`).\n\nI've attached a patch file that attempts to address all four of these issues:\n\n* Updates documentation in `dev.capabilities()`, `dev.capture()`, and\n`grid.cap()` to address 1 and 2.  The documentation for `grid.cap()` is now\nmostly copied over from the documentation for `dev.capture()`.\n* Deletes the C code in {grid} used by `grid.cap()` and instead makes\n`grid.cap()` a wrapper for `dev.capture()`\n* Adds support for a `native` argument in `grid.cap()` as is already supported\nby `dev.capture()`",
        "username": "r-bugs notifier",
        "icons": {
            "emoji": ":robot_face:"
        },
        "type": "message",
        "ts": "1741231608.204559",
        "bot_id": "B06769YJX9Q",
        "app_id": "A024R9PQM",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "rriyi",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "[Bug 18866] New: grid.cap() and dev.capture() issues",
                                "style": {
                                    "bold": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "\n"
                            },
                            {
                                "type": "link",
                                "url": "https:\/\/bugs.r-project.org\/show_bug.cgi?id=18866"
                            },
                            {
                                "type": "text",
                                "text": "\n\n            Bug ID: 18866\n           Summary: grid.cap() and dev.capture() issues\n           Product: R\n           Version: R-devel (trunk)\n          Hardware: All\n                OS: All\n            Status: UNCONFIRMED\n          Severity: minor\n          Priority: P5\n         Component: Graphics\n          Assignee: "
                            },
                            {
                                "type": "link",
                                "url": "mailto:R-core@R-project.org",
                                "text": "R-core@R-project.org",
                                "unsafe": true
                            },
                            {
                                "type": "text",
                                "text": "\n          Reporter: "
                            },
                            {
                                "type": "link",
                                "url": "mailto:trevor.l.davis@gmail.com",
                                "text": "trevor.l.davis@gmail.com"
                            },
                            {
                                "type": "text",
                                "text": "\n\nCreated attachment 3465\n  --> "
                            },
                            {
                                "type": "link",
                                "url": "https:\/\/bugs.r-project.org\/attachment.cgi?id=3465&amp;action=edit",
                                "text": "https:\/\/bugs.r-project.org\/attachment.cgi?id=3465&action=edit"
                            },
                            {
                                "type": "text",
                                "text": "\nPatch to address grid.cap() and dev.capture() issues\n\nI observe four issues with "
                            },
                            {
                                "type": "text",
                                "text": "grid::grid.cap()",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " and "
                            },
                            {
                                "type": "text",
                                "text": "grDevices::dev.capture()",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": ":\n\n1. The "
                            },
                            {
                                "type": "text",
                                "text": "Details",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " in "
                            },
                            {
                                "type": "text",
                                "text": "?grid.cap",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " says \"This function is only implemented for\non-screen graphics devices.\"  However this statement is false e.g.\n"
                            },
                            {
                                "type": "text",
                                "text": "ragg::agg_capture()",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " supports "
                            },
                            {
                                "type": "text",
                                "text": "grid.cap()",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " and is not an on-screen graphics\ndevice.  It would be better instead to use something like the "
                            },
                            {
                                "type": "text",
                                "text": "Details",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " from\n"
                            },
                            {
                                "type": "text",
                                "text": "?dev.capture",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": ".\n\n2. The documentation in "
                            },
                            {
                                "type": "text",
                                "text": "dev.capabilities()",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " only notes that if "
                            },
                            {
                                "type": "text",
                                "text": "capture",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " is\n"
                            },
                            {
                                "type": "text",
                                "text": "TRUE",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " then "
                            },
                            {
                                "type": "text",
                                "text": "grid.cap()",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " is supported.  It would be better if it instead notes\nthat if "
                            },
                            {
                                "type": "text",
                                "text": "capture",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " is "
                            },
                            {
                                "type": "text",
                                "text": "TRUE",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " then (both) "
                            },
                            {
                                "type": "text",
                                "text": "dev.capture()",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " and "
                            },
                            {
                                "type": "text",
                                "text": "grid.cap()",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " are\nsupported.  I had to look at the C code in both {grid} and {grDevices} to\nconfirm this is true, it would be nice if the documentation points this out.\n\n3. The C code for "
                            },
                            {
                                "type": "text",
                                "text": "grid::grid.cap()",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " (function "
                            },
                            {
                                "type": "text",
                                "text": "L_cap",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": ") and the C code for\n"
                            },
                            {
                                "type": "text",
                                "text": "grDevices::dev.capture()",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " (function "
                            },
                            {
                                "type": "text",
                                "text": "devcapture",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": ") are almost identical except\nthe latter has a couple extra lines to add support for native rasters if\n"
                            },
                            {
                                "type": "text",
                                "text": "native = TRUE",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": ".  Also {grid} currently imports all of {grDevices} into its\nnamespace so "
                            },
                            {
                                "type": "text",
                                "text": "dev.capture()",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " is already in {grid}'s namespace.  I speculate\nthat it may make sense to delete this mostly duplicated C code in {grid} and\nsimply make "
                            },
                            {
                                "type": "text",
                                "text": "grid.cap()",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " a wrapper to "
                            },
                            {
                                "type": "text",
                                "text": "dev.capture()",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": ".\n4. "
                            },
                            {
                                "type": "text",
                                "text": "grid::grid.raster()",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " and "
                            },
                            {
                                "type": "text",
                                "text": "grid::rasterGrob()",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " also support native rasters\nso {grid} users using "
                            },
                            {
                                "type": "text",
                                "text": "grid.cap()",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " may also want support for a "
                            },
                            {
                                "type": "text",
                                "text": "native = TRUE",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "\nargument (which is already supported by "
                            },
                            {
                                "type": "text",
                                "text": "dev.capture()",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " but not yet in\n"
                            },
                            {
                                "type": "text",
                                "text": "grid.cap()",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": ").\n\nI've attached a patch file that attempts to address all four of these issues:\n\n* Updates documentation in "
                            },
                            {
                                "type": "text",
                                "text": "dev.capabilities()",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": ", "
                            },
                            {
                                "type": "text",
                                "text": "dev.capture()",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": ", and\n"
                            },
                            {
                                "type": "text",
                                "text": "grid.cap()",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " to address 1 and 2.  The documentation for "
                            },
                            {
                                "type": "text",
                                "text": "grid.cap()",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " is now\nmostly copied over from the documentation for "
                            },
                            {
                                "type": "text",
                                "text": "dev.capture()",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": ".\n* Deletes the C code in {grid} used by "
                            },
                            {
                                "type": "text",
                                "text": "grid.cap()",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " and instead makes\n"
                            },
                            {
                                "type": "text",
                                "text": "grid.cap()",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " a wrapper for "
                            },
                            {
                                "type": "text",
                                "text": "dev.capture()",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "\n* Adds support for a "
                            },
                            {
                                "type": "text",
                                "text": "native",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " argument in "
                            },
                            {
                                "type": "text",
                                "text": "grid.cap()",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " as is already supported\nby "
                            },
                            {
                                "type": "text",
                                "text": "dev.capture()",
                                "style": {
                                    "code": true
                                }
                            }
                        ]
                    }
                ]
            }
        ]
    }
]