[
    {
        "subtype": "bot_message",
        "text": "*[Bug 18417] factanal returns useless SS loading values*\n<https:\/\/bugs.r-project.org\/show_bug.cgi?id=18417>\n\n--- Comment #18 from Martin Maechler (<mailto:maechler@stat.math.ethz.ch|maechler@stat.math.ethz.ch>) ---\n(In reply to Coen Bernaards from comment #17)\n\nI have applied both patches (with no effects visible to me in the tests we do\nin core R).\n\n&gt; I will work on a MRE\n\nThat's the only thing missing now, I think\n(apart from your comment #13 (inconsistency) which I agree we should address,\ntoo, eventually.\nBut for possibly making it into R 4.5.0, some (1 or more) MREs are really\nneeded.",
        "username": "r-bugs notifier",
        "icons": {
            "emoji": ":robot_face:"
        },
        "type": "message",
        "ts": "1742635758.541299",
        "bot_id": "B06769YJX9Q",
        "app_id": "A024R9PQM",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "FZZ",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "[Bug 18417] factanal returns useless SS loading values",
                                "style": {
                                    "bold": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "\n"
                            },
                            {
                                "type": "link",
                                "url": "https:\/\/bugs.r-project.org\/show_bug.cgi?id=18417"
                            },
                            {
                                "type": "text",
                                "text": "\n\n--- Comment #18 from Martin Maechler ("
                            },
                            {
                                "type": "link",
                                "url": "mailto:maechler@stat.math.ethz.ch",
                                "text": "maechler@stat.math.ethz.ch",
                                "unsafe": true
                            },
                            {
                                "type": "text",
                                "text": ") ---\n(In reply to Coen Bernaards from comment #17)\n\nI have applied both patches (with no effects visible to me in the tests we do\nin core R).\n\n"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_quote",
                        "elements": [
                            {
                                "type": "text",
                                "text": "I will work on a MRE"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "\n\nThat's the only thing missing now, I think\n(apart from your comment #13 (inconsistency) which I agree we should address,\ntoo, eventually.\nBut for possibly making it into R 4.5.0, some (1 or more) MREs are really\nneeded."
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "subtype": "bot_message",
        "text": "*[Bug 18677] Documentation of base::gamma &amp; base::is.numeric Could be Improved.*\n<https:\/\/bugs.r-project.org\/show_bug.cgi?id=18677>\n\n--- Comment #12 from Suharto Anggono (<mailto:suharto_anggono@yahoo.com|suharto_anggono@yahoo.com>) ---\n(In reply to Ajinkya Kokandakar from comment #3)\n`numeric.Rd`: It is not true that there is `is.numeric` method for class\n`\"complex\"`. The `\"complex\"` case is handled by the default method. The change\ncould be addition to the \"Value\" section as suggested by Comment 2: \"In\nparticular, `is.numeric` returns `FALSE` for complex input.\"",
        "username": "r-bugs notifier",
        "icons": {
            "emoji": ":robot_face:"
        },
        "type": "message",
        "ts": "1742654694.677909",
        "bot_id": "B06769YJX9Q",
        "app_id": "A024R9PQM",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "OIa7",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "[Bug 18677] Documentation of base::gamma & base::is.numeric Could be Improved.",
                                "style": {
                                    "bold": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "\n"
                            },
                            {
                                "type": "link",
                                "url": "https:\/\/bugs.r-project.org\/show_bug.cgi?id=18677"
                            },
                            {
                                "type": "text",
                                "text": "\n\n--- Comment #12 from Suharto Anggono ("
                            },
                            {
                                "type": "link",
                                "url": "mailto:suharto_anggono@yahoo.com",
                                "text": "suharto_anggono@yahoo.com"
                            },
                            {
                                "type": "text",
                                "text": ") ---\n(In reply to Ajinkya Kokandakar from comment #3)\n"
                            },
                            {
                                "type": "text",
                                "text": "numeric.Rd",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": ": It is not true that there is "
                            },
                            {
                                "type": "text",
                                "text": "is.numeric",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " method for class\n"
                            },
                            {
                                "type": "text",
                                "text": "\"complex\"",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": ". The "
                            },
                            {
                                "type": "text",
                                "text": "\"complex\"",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " case is handled by the default method. The change\ncould be addition to the \"Value\" section as suggested by Comment 2: \"In\nparticular, "
                            },
                            {
                                "type": "text",
                                "text": "is.numeric",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " returns "
                            },
                            {
                                "type": "text",
                                "text": "FALSE",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " for complex input.\""
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "subtype": "bot_message",
        "text": "*[Bug 18417] factanal returns useless SS loading values*\n<https:\/\/bugs.r-project.org\/show_bug.cgi?id=18417>\n\n--- Comment #19 from Coen Bernaards (<mailto:coen.bernaards@gmail.com|coen.bernaards@gmail.com>) ---\n&gt; &gt; I will work on a MRE\n\nDo I submit that here in this bug report as an attachment?\nIt will be annoted code that can be run to see the result of the error, and\nthen a separated attachment for the patched code.  Apologies if I missed that I\nneed to do something else.\n\nIs this the way to do it?\n\n&gt; That's the only thing missing now, I think\n&gt; (apart from your comment #13 (inconsistency) which I agree we should\n&gt; address, too, eventually.\n\nFor this inconsistency, shall I open a new bug report so that this one can be\nclosed later, and the inconsistency I will work on separately.  Or do you\nprefer to keep it this report open?",
        "username": "r-bugs notifier",
        "icons": {
            "emoji": ":robot_face:"
        },
        "type": "message",
        "ts": "1742674835.701919",
        "bot_id": "B06769YJX9Q",
        "app_id": "A024R9PQM",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "ptKEs",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "[Bug 18417] factanal returns useless SS loading values",
                                "style": {
                                    "bold": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "\n"
                            },
                            {
                                "type": "link",
                                "url": "https:\/\/bugs.r-project.org\/show_bug.cgi?id=18417"
                            },
                            {
                                "type": "text",
                                "text": "\n\n--- Comment #19 from Coen Bernaards ("
                            },
                            {
                                "type": "link",
                                "url": "mailto:coen.bernaards@gmail.com",
                                "text": "coen.bernaards@gmail.com"
                            },
                            {
                                "type": "text",
                                "text": ") ---\n> > I will work on a MRE\n\nDo I submit that here in this bug report as an attachment?\nIt will be annoted code that can be run to see the result of the error, and\nthen a separated attachment for the patched code.  Apologies if I missed that I\nneed to do something else.\n\nIs this the way to do it?\n\n"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_quote",
                        "elements": [
                            {
                                "type": "text",
                                "text": "That's the only thing missing now, I think\n(apart from your comment #13 (inconsistency) which I agree we should\naddress, too, eventually."
                            }
                        ]
                    },
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "\n\nFor this inconsistency, shall I open a new bug report so that this one can be\nclosed later, and the inconsistency I will work on separately.  Or do you\nprefer to keep it this report open?"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "subtype": "bot_message",
        "text": "*[Bug 18417] factanal returns useless SS loading values*\n<https:\/\/bugs.r-project.org\/show_bug.cgi?id=18417>\n\n--- Comment #20 from Martin Maechler (<mailto:maechler@stat.math.ethz.ch|maechler@stat.math.ethz.ch>) ---\n(In reply to Coen Bernaards from comment #19)\nWell, the \"M\" in MRE meaning \"minimal\",  it could be just a few lines of R code\n(with comments, with or without the R output).\nNote that this very long PR has not once shown a small reproducible example\n(apart from mine in omment #16) just code snippets and non-repr. example (with\n`ability.cov` in comment #9), an attachment with a full `factanal.R` and\nanother with a full `factanal.Rd` file.. .. so much noise, so little signal. \nPlease?\n\nA few annotated R code lines, no output, and then some words why the output\nafter the patch is more correct than before the patch.\n\"output\" could also just mean the object returned by `factanal`.\n\nPlease be __minimal__",
        "username": "r-bugs notifier",
        "icons": {
            "emoji": ":robot_face:"
        },
        "type": "message",
        "ts": "1742683227.775269",
        "bot_id": "B06769YJX9Q",
        "app_id": "A024R9PQM",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "cg2wB",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "[Bug 18417] factanal returns useless SS loading values",
                                "style": {
                                    "bold": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "\n"
                            },
                            {
                                "type": "link",
                                "url": "https:\/\/bugs.r-project.org\/show_bug.cgi?id=18417"
                            },
                            {
                                "type": "text",
                                "text": "\n\n--- Comment #20 from Martin Maechler ("
                            },
                            {
                                "type": "link",
                                "url": "mailto:maechler@stat.math.ethz.ch",
                                "text": "maechler@stat.math.ethz.ch",
                                "unsafe": true
                            },
                            {
                                "type": "text",
                                "text": ") ---\n(In reply to Coen Bernaards from comment #19)\nWell, the \"M\" in MRE meaning \"minimal\",  it could be just a few lines of R code\n(with comments, with or without the R output).\nNote that this very long PR has not once shown a small reproducible example\n(apart from mine in omment #16) just code snippets and non-repr. example (with\n"
                            },
                            {
                                "type": "text",
                                "text": "ability.cov",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " in comment #9), an attachment with a full "
                            },
                            {
                                "type": "text",
                                "text": "factanal.R",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " and\nanother with a full "
                            },
                            {
                                "type": "text",
                                "text": "factanal.Rd",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " file.. .. so much noise, so little signal. \nPlease?\n\nA few annotated R code lines, no output, and then some words why the output\nafter the patch is more correct than before the patch.\n\"output\" could also just mean the object returned by "
                            },
                            {
                                "type": "text",
                                "text": "factanal",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": ".\n\nPlease be __minimal__"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "subtype": "bot_message",
        "text": "*[Bug 18873] handling of ... has unexpected behavior in R 4.4*\n<https:\/\/bugs.r-project.org\/show_bug.cgi?id=18873>\n\n--- Comment #4 from Martin Maechler (<mailto:maechler@stat.math.ethz.ch|maechler@stat.math.ethz.ch>) ---\n(In reply to Xiaoxing Cheng from comment #2)\nBoth of your conclusions above are wrong (in the generality you formulated\nthem); all of these should be used - when appropriate.\n\nAs with explicit\/formal arguments which have no defaults, you need to use\n`missing()` before you can use them actively\n... and you *can* pass them to downstream functions (which again typically need\nto use `missing()` if they don't want get an error when the arg *is* missing\nw\/o default).\n\nE.g.\n```\nf &lt;- function(x,y) y\n\nf(,1) # is fine , |--&gt; [1] 1\nf(2,) # fails, as inside the function you use `y` :\n  # Error in f(2, ) (from #1) : argument \"y\" is missing, with no default \n```",
        "username": "r-bugs notifier",
        "icons": {
            "emoji": ":robot_face:"
        },
        "type": "message",
        "ts": "1742685448.788539",
        "bot_id": "B06769YJX9Q",
        "app_id": "A024R9PQM",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "8cF",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "[Bug 18873] handling of ... has unexpected behavior in R 4.4",
                                "style": {
                                    "bold": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "\n"
                            },
                            {
                                "type": "link",
                                "url": "https:\/\/bugs.r-project.org\/show_bug.cgi?id=18873"
                            },
                            {
                                "type": "text",
                                "text": "\n\n--- Comment #4 from Martin Maechler ("
                            },
                            {
                                "type": "link",
                                "url": "mailto:maechler@stat.math.ethz.ch",
                                "text": "maechler@stat.math.ethz.ch",
                                "unsafe": true
                            },
                            {
                                "type": "text",
                                "text": ") ---\n(In reply to Xiaoxing Cheng from comment #2)\nBoth of your conclusions above are wrong (in the generality you formulated\nthem); all of these should be used - when appropriate.\n\nAs with explicit\/formal arguments which have no defaults, you need to use\n"
                            },
                            {
                                "type": "text",
                                "text": "missing()",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " before you can use them actively\n... and you "
                            },
                            {
                                "type": "text",
                                "text": "can",
                                "style": {
                                    "bold": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " pass them to downstream functions (which again typically need\nto use "
                            },
                            {
                                "type": "text",
                                "text": "missing()",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " if they don't want get an error when the arg "
                            },
                            {
                                "type": "text",
                                "text": "is",
                                "style": {
                                    "bold": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " missing\nw\/o default).\n\nE.g."
                            }
                        ]
                    },
                    {
                        "type": "rich_text_preformatted",
                        "elements": [
                            {
                                "type": "text",
                                "text": "f <- function(x,y) y\n\nf(,1) # is fine , |--> [1] 1\nf(2,) # fails, as inside the function you use `y` :\n  # Error in f(2, ) (from #1) : argument \"y\" is missing, with no default \n"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "subtype": "bot_message",
        "text": "*[Bug 18417] factanal returns useless SS loading values*\n<https:\/\/bugs.r-project.org\/show_bug.cgi?id=18417>\n\n--- Comment #21 from Coen Bernaards (<mailto:coen.bernaards@gmail.com|coen.bernaards@gmail.com>) ---\n```\n# MRE that shows the current version has bugs\n# =================================\n# create unrotated loadings matrix \nres &lt;- factanal(covmat = ability.cov$cov, factors = 3, rotation = \"none\")\n\n# create the output from oblimin of GPArotation as a list; \n# oblimin(res$loadings, Tmat = Random.Start(3), eps = 1e-8, maxit = 10000)\n\nobl100 &lt;- function (...) \n{\n    r &lt;- list(loadings = matrix(c(-0.410168, 0.30234, 0.24545, \n        0.006236, -0.01488, 0.894462, -0.064197, 0.5439, 0.363498, \n        0.013112, 0.70239, -0.115955, -1.003333, -0.05757, -0.007169, \n        -0.791564, 0.07819, -0.029237), byrow = T, ncol = 3), \n        Phi = matrix(c(1, -0.3906, -0.3409, -0.3906, 1, 0.4962, \n            -0.3409, 0.4962, 1), ncol = 3), Th = matrix(c(-0.99757, \n            0.4214, 0.4053, 0.06772, 0.604, 0.8662, -0.01644, \n            0.6765, -0.2924), byrow = T, ncol = 3), orthogonal = FALSE)\n    class(r) &lt;- \"GPArotation\"\n    r\n}\n\n# perform the factanal using this oblimin rotation\norig100 &lt;- factanal(covmat = ability.cov$cov, factors = 3, rotation = \"obl100\")\n\n# no longer can the unrotated matrix be recreated. the max abs diff between \n# unrotated and recreated unrotated loadings should be near zero but is not:\nmax(abs(orig100$loadings %*% solve(orig100$rotmat) - res$loadings))\n\n# with patches the max difference will more like this:\noto100 &lt;- matrix(c(-1, 0, 0, 0, 0, 1, 0, 1, 0), byrow = F, ncol=3)\nmax(abs(orig100$loadings %*% solve(orig100$rotmat %*% oto100) - res$loadings))\n\n# The SS is reported as: \n# SS loadings    1.806 1.007 0.890   but should come out to be:\ndiag(t(oto100) %*% obl100()$Phi %*% oto100  %*% t(orig100$loadings) %*%\norig100$loadings)\n```",
        "username": "r-bugs notifier",
        "icons": {
            "emoji": ":robot_face:"
        },
        "type": "message",
        "ts": "1742685679.540219",
        "bot_id": "B06769YJX9Q",
        "app_id": "A024R9PQM",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "uhdU",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "[Bug 18417] factanal returns useless SS loading values",
                                "style": {
                                    "bold": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "\n"
                            },
                            {
                                "type": "link",
                                "url": "https:\/\/bugs.r-project.org\/show_bug.cgi?id=18417"
                            },
                            {
                                "type": "text",
                                "text": "\n\n--- Comment #21 from Coen Bernaards ("
                            },
                            {
                                "type": "link",
                                "url": "mailto:coen.bernaards@gmail.com",
                                "text": "coen.bernaards@gmail.com"
                            },
                            {
                                "type": "text",
                                "text": ") ---"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_preformatted",
                        "elements": [
                            {
                                "type": "text",
                                "text": "# MRE that shows the current version has bugs\n# =================================\n# create unrotated loadings matrix \nres <- factanal(covmat = ability.cov$cov, factors = 3, rotation = \"none\")\n\n# create the output from oblimin of GPArotation as a list; \n# oblimin(res$loadings, Tmat = Random.Start(3), eps = 1e-8, maxit = 10000)\n\nobl100 <- function (...) \n{\n    r <- list(loadings = matrix(c(-0.410168, 0.30234, 0.24545, \n        0.006236, -0.01488, 0.894462, -0.064197, 0.5439, 0.363498, \n        0.013112, 0.70239, -0.115955, -1.003333, -0.05757, -0.007169, \n        -0.791564, 0.07819, -0.029237), byrow = T, ncol = 3), \n        Phi = matrix(c(1, -0.3906, -0.3409, -0.3906, 1, 0.4962, \n            -0.3409, 0.4962, 1), ncol = 3), Th = matrix(c(-0.99757, \n            0.4214, 0.4053, 0.06772, 0.604, 0.8662, -0.01644, \n            0.6765, -0.2924), byrow = T, ncol = 3), orthogonal = FALSE)\n    class(r) <- \"GPArotation\"\n    r\n}\n\n# perform the factanal using this oblimin rotation\norig100 <- factanal(covmat = ability.cov$cov, factors = 3, rotation = \"obl100\")\n\n# no longer can the unrotated matrix be recreated. the max abs diff between \n# unrotated and recreated unrotated loadings should be near zero but is not:\nmax(abs(orig100$loadings %*% solve(orig100$rotmat) - res$loadings))\n\n# with patches the max difference will more like this:\noto100 <- matrix(c(-1, 0, 0, 0, 0, 1, 0, 1, 0), byrow = F, ncol=3)\nmax(abs(orig100$loadings %*% solve(orig100$rotmat %*% oto100) - res$loadings))\n\n# The SS is reported as: \n# SS loadings    1.806 1.007 0.890   but should come out to be:\ndiag(t(oto100) %*% obl100()$Phi %*% oto100  %*% t(orig100$loadings) %*%\norig100$loadings)\n"
                            }
                        ]
                    }
                ]
            }
        ]
    }
]