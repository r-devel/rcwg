[
    {
        "subtype": "bot_message",
        "text": "*[Bug 18913] Providing an accessor 'quiet()' to query the R_Quiet state from R*\n<https:\/\/bugs.r-project.org\/show_bug.cgi?id=18913>\n\n--- Comment #6 from Martin Maechler (<mailto:maechler@stat.math.ethz.ch|maechler@stat.math.ethz.ch>) ---\nThank you, Sebastian, for raising the comparison `quiet` vs `verbose` and\nnotably the alternative to use `getOption(\"quiet\")` instead of `quiet()`.\n\nFor the `verbose` option, the user can nicely change back and forth (or say\nwithin one function call) and I think this would be a really nice new feature\nfor `quiet`.\n==&gt; Hence I do formally propose  I modify the orig patch create a new\n**option** `quiet`, by default initially `FALSE`, but in any getting and\nsetting R's global  `R_Quiet`.  That could allow new useful behavior in quite a\nfew situations, even, e.g., in  \"*.Rout.save\" style tests to save disk space\n(and comparison times) in situations where the useR may not control R console\noutput of functions they call.\n\nThe question if and where `getOption(\"quiet\")` could \/ should be used as\ndefault for a `quiet = FALSE` function argument is interesting and relevant\neventually,\nbut I'm much convinced now that indeed a new option `quiet` is \"better\" than a\nnew primitive `quiet()`.\n\nTo Dirk's comment 5 : Yes, it's standard R's  `txtProgressBar()` (with setter\nand getter functions etc)  which possibly could react to a future \n`getOption(\"quiet\")`.",
        "username": "r-bugs notifier",
        "icons": {
            "emoji": ":robot_face:"
        },
        "type": "message",
        "ts": "1751532619.528779",
        "bot_id": "B06769YJX9Q",
        "app_id": "A024R9PQM",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "s\/4",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "[Bug 18913] Providing an accessor 'quiet()' to query the R_Quiet state from R",
                                "style": {
                                    "bold": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "\n"
                            },
                            {
                                "type": "link",
                                "url": "https:\/\/bugs.r-project.org\/show_bug.cgi?id=18913"
                            },
                            {
                                "type": "text",
                                "text": "\n\n--- Comment #6 from Martin Maechler ("
                            },
                            {
                                "type": "link",
                                "url": "mailto:maechler@stat.math.ethz.ch",
                                "text": "maechler@stat.math.ethz.ch",
                                "unsafe": true
                            },
                            {
                                "type": "text",
                                "text": ") ---\nThank you, Sebastian, for raising the comparison "
                            },
                            {
                                "type": "text",
                                "text": "quiet",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " vs "
                            },
                            {
                                "type": "text",
                                "text": "verbose",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " and\nnotably the alternative to use "
                            },
                            {
                                "type": "text",
                                "text": "getOption(\"quiet\")",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " instead of "
                            },
                            {
                                "type": "text",
                                "text": "quiet()",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": ".\n\nFor the "
                            },
                            {
                                "type": "text",
                                "text": "verbose",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " option, the user can nicely change back and forth (or say\nwithin one function call) and I think this would be a really nice new feature\nfor "
                            },
                            {
                                "type": "text",
                                "text": "quiet",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": ".\n==> Hence I do formally propose  I modify the orig patch create a new\n**option** "
                            },
                            {
                                "type": "text",
                                "text": "quiet",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": ", by default initially "
                            },
                            {
                                "type": "text",
                                "text": "FALSE",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": ", but in any getting and\nsetting R's global  "
                            },
                            {
                                "type": "text",
                                "text": "R_Quiet",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": ".  That could allow new useful behavior in quite a\nfew situations, even, e.g., in  \"*.Rout.save\" style tests to save disk space\n(and comparison times) in situations where the useR may not control R console\noutput of functions they call.\n\nThe question if and where "
                            },
                            {
                                "type": "text",
                                "text": "getOption(\"quiet\")",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " could \/ should be used as\ndefault for a "
                            },
                            {
                                "type": "text",
                                "text": "quiet = FALSE",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " function argument is interesting and relevant\neventually,\nbut I'm much convinced now that indeed a new option "
                            },
                            {
                                "type": "text",
                                "text": "quiet",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " is \"better\" than a\nnew primitive "
                            },
                            {
                                "type": "text",
                                "text": "quiet()",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": ".\n\nTo Dirk's comment 5 : Yes, it's standard R's  "
                            },
                            {
                                "type": "text",
                                "text": "txtProgressBar()",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " (with setter\nand getter functions etc)  which possibly could react to a future \n"
                            },
                            {
                                "type": "text",
                                "text": "getOption(\"quiet\")",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "."
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "subtype": "bot_message",
        "text": "*[Bug 18913] Providing an accessor 'quiet()' to query the R_Quiet state from R*\n<https:\/\/bugs.r-project.org\/show_bug.cgi?id=18913>\n\n--- Comment #7 from Dirk Eddelbuettel (<mailto:edd@debian.org|edd@debian.org>) ---\nThat is fine by me as well: an `getOption(\"quiet\", FALSE)` accessor is equally\nusable, being able to get _and set_ the value is net better, and not enlarging\nthe already large surface of `base` is good too.  So feel free to close this,\nor adjust as need.",
        "username": "r-bugs notifier",
        "icons": {
            "emoji": ":robot_face:"
        },
        "type": "message",
        "ts": "1751548439.581339",
        "bot_id": "B06769YJX9Q",
        "app_id": "A024R9PQM",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "jYxW",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "[Bug 18913] Providing an accessor 'quiet()' to query the R_Quiet state from R",
                                "style": {
                                    "bold": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "\n"
                            },
                            {
                                "type": "link",
                                "url": "https:\/\/bugs.r-project.org\/show_bug.cgi?id=18913"
                            },
                            {
                                "type": "text",
                                "text": "\n\n--- Comment #7 from Dirk Eddelbuettel ("
                            },
                            {
                                "type": "link",
                                "url": "mailto:edd@debian.org",
                                "text": "edd@debian.org"
                            },
                            {
                                "type": "text",
                                "text": ") ---\nThat is fine by me as well: an "
                            },
                            {
                                "type": "text",
                                "text": "getOption(\"quiet\", FALSE)",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " accessor is equally\nusable, being able to get "
                            },
                            {
                                "type": "text",
                                "text": "and set",
                                "style": {
                                    "italic": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " the value is net better, and not enlarging\nthe already large surface of "
                            },
                            {
                                "type": "text",
                                "text": "base",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " is good too.  So feel free to close this,\nor adjust as need."
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "subtype": "bot_message",
        "text": "*[Bug 18913] Providing an accessor 'quiet()' to query the R_Quiet state from R*\n<https:\/\/bugs.r-project.org\/show_bug.cgi?id=18913>\n\n--- Comment #8 from Martin Maechler (<mailto:maechler@stat.math.ethz.ch|maechler@stat.math.ethz.ch>) ---\n(In reply to Dirk Eddelbuettel from comment #5)\n\n&gt; The other point made about maybe adding a check to `--quiet --verbose` and\n&gt; either showing a warning and\/or ignoring one is good too and needs attention.\n\nWell, we have for a very long time checked for and acted on these but *later*\nin startup code, and I tend to agree we should change it :\n\nI get (in an `en_US.UTF-8` locale)\n```\n$ R --vanilla --quiet --verbose \n'verbose' and 'quietly' are both true; being verbose then ..\nnow dyn.load(\"....\/&lt;R-inst&gt;\/library\/methods\/libs\/methods.so\") ...\n'verbose' and 'quietly' are both true; being verbose then ..\n'verbose' and 'quietly' are both true; being verbose then ..\nnow dyn.load(\"..........\/library\/utils\/libs\/utils.so\") ...\n...................\n...................\nending setup_Rmainloop(): R_Interactive = 1 {main.c}\n &gt;R_ReplConsole(): before \"for(;;)\" {main.c}\n&gt; \n```\nso, actually we quite obnoxiously do \"warn\" and then actually are both verbose\nand quiet (not showing the startup message).\n\nProbably this should be changed by reacting earlier, and just either the first\nor the last of the multiple settings.\n\nI think there may be two different \"traditions\"\n1) always \"believe\" the last of multiple incompatible settings\n2) insist on the first setting to be the one we keep to ...\n\nIn this case, because it would seem more natural to me (from the way C code is\norganized in reading these arguments) to actually keep the first of the two\nsettings, and for subsequent settings warn that they will ignored, i.e.,  I'd\nimplement\n\n -   `--quiet --verbose`  ===&gt; `--quite`   + warning that --verbose is ignored\n -   `--verbose --quiet`  ===&gt; `--verbose` + warning that --quiet is ignored\n\nbut am happy to be convinced that something else would be better.",
        "username": "r-bugs notifier",
        "icons": {
            "emoji": ":robot_face:"
        },
        "type": "message",
        "ts": "1751558223.714649",
        "bot_id": "B06769YJX9Q",
        "app_id": "A024R9PQM",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "6p86h",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "[Bug 18913] Providing an accessor 'quiet()' to query the R_Quiet state from R",
                                "style": {
                                    "bold": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "\n"
                            },
                            {
                                "type": "link",
                                "url": "https:\/\/bugs.r-project.org\/show_bug.cgi?id=18913"
                            },
                            {
                                "type": "text",
                                "text": "\n\n--- Comment #8 from Martin Maechler ("
                            },
                            {
                                "type": "link",
                                "url": "mailto:maechler@stat.math.ethz.ch",
                                "text": "maechler@stat.math.ethz.ch",
                                "unsafe": true
                            },
                            {
                                "type": "text",
                                "text": ") ---\n(In reply to Dirk Eddelbuettel from comment #5)\n\n"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_quote",
                        "elements": [
                            {
                                "type": "text",
                                "text": "The other point made about maybe adding a check to "
                            },
                            {
                                "type": "text",
                                "text": "--quiet --verbose",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " and\neither showing a warning and\/or ignoring one is good too and needs attention."
                            }
                        ]
                    },
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "\n\nWell, we have for a very long time checked for and acted on these but "
                            },
                            {
                                "type": "text",
                                "text": "later",
                                "style": {
                                    "bold": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "\nin startup code, and I tend to agree we should change it :\n\nI get (in an "
                            },
                            {
                                "type": "text",
                                "text": "en_US.UTF-8",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " locale)"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_preformatted",
                        "elements": [
                            {
                                "type": "text",
                                "text": "$ R --vanilla --quiet --verbose \n'verbose' and 'quietly' are both true; being verbose then ..\nnow dyn.load(\"....\/<R-inst>\/library\/methods\/libs\/methods.so\") ...\n'verbose' and 'quietly' are both true; being verbose then ..\n'verbose' and 'quietly' are both true; being verbose then ..\nnow dyn.load(\"..........\/library\/utils\/libs\/utils.so\") ...\n...................\n...................\nending setup_Rmainloop(): R_Interactive = 1 {main.c}\n >R_ReplConsole(): before \"for(;;)\" {main.c}\n> \n"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "so, actually we quite obnoxiously do \"warn\" and then actually are both verbose\nand quiet (not showing the startup message).\n\nProbably this should be changed by reacting earlier, and just either the first\nor the last of the multiple settings.\n\nI think there may be two different \"traditions\"\n1) always \"believe\" the last of multiple incompatible settings\n2) insist on the first setting to be the one we keep to ...\n\nIn this case, because it would seem more natural to me (from the way C code is\norganized in reading these arguments) to actually keep the first of the two\nsettings, and for subsequent settings warn that they will ignored, i.e.,  I'd\nimplement\n\n -   "
                            },
                            {
                                "type": "text",
                                "text": "--quiet --verbose",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "  ===> "
                            },
                            {
                                "type": "text",
                                "text": "--quite",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "   + warning that --verbose is ignored\n -   "
                            },
                            {
                                "type": "text",
                                "text": "--verbose --quiet",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "  ===> "
                            },
                            {
                                "type": "text",
                                "text": "--verbose",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " + warning that --quiet is ignored\n\nbut am happy to be convinced that something else would be better."
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "subtype": "bot_message",
        "text": "*[Bug 18915] New: Allow `grid::convertUnit()`to convert to \"snpc\" units*\n<https:\/\/bugs.r-project.org\/show_bug.cgi?id=18915>\n\n            Bug ID: 18915\n           Summary: Allow `grid::convertUnit()`to convert to \"snpc\" units\n           Product: R\n           Version: R-devel (trunk)\n          Hardware: All\n                OS: All\n            Status: UNCONFIRMED\n          Severity: minor\n          Priority: P5\n         Component: Graphics\n          Assignee: <mailto:R-core@R-project.org|R-core@R-project.org>\n          Reporter: <mailto:trevor.l.davis@gmail.com|trevor.l.davis@gmail.com>\n\nCreated attachment 3503\n  --&gt; <https:\/\/bugs.r-project.org\/attachment.cgi?id=3503&amp;action=edit>\nPatch to allow `grid::convertUnit()` to convert to \"snpc\" units\n\nCurrently if you try to convert **to** \"snpc\" units with `grid::convertUnit()`\n(as used by `grid::convertX()`, `grid::convertY()`, `grid::convertHeight()`,\nand `grid::convertWidth()`) it throws an \"invalid unit or unit not yet\nimplemented\" error:\n\n```\nlibrary(\"grid\")\nlibrary(\"grDevices\")\npdf(NULL, width = 2, height = 1)\nunit(1, \"in\") |&gt; convertWidth(\"snpc\")\ninvisible(dev.off())\n```\n```\nError in grid.Call(C_convert, x, as.integer(whatfrom), as.integer(whatto),  : \n  invalid unit or unit not yet implemented\n```\n\nI've included a patch to the underlying low-level `transformFromINCHES()`\nfunction that allows `grid::convertUnit()` to convert to \"snpc\" units along\nwith a couple of tests.  It will throw an error if the viewport has zero\ndimension(s).\n\nCurrently instead of directly using `grid`'s conversion functions like\n`convertWidth(x, \"snpc\")` one needs to instead manually convert to \"snpc\" units\nusing something like the following:\n\n```\npmax(convertWidth(x, \"npc\", valueOnly = TRUE),\n     convertWidth(x, \"npc\", valueOnly = TRUE)) |&gt; unit(\"snpc\")\n```",
        "username": "r-bugs notifier",
        "icons": {
            "emoji": ":robot_face:"
        },
        "type": "message",
        "ts": "1751606833.695669",
        "bot_id": "B06769YJX9Q",
        "app_id": "A024R9PQM",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "ApSB",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "[Bug 18915] New: Allow ",
                                "style": {
                                    "bold": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "grid::convertUnit()",
                                "style": {
                                    "bold": true,
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "to convert to \"snpc\" units",
                                "style": {
                                    "bold": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "\n"
                            },
                            {
                                "type": "link",
                                "url": "https:\/\/bugs.r-project.org\/show_bug.cgi?id=18915"
                            },
                            {
                                "type": "text",
                                "text": "\n\n            Bug ID: 18915\n           Summary: Allow "
                            },
                            {
                                "type": "text",
                                "text": "grid::convertUnit()",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "to convert to \"snpc\" units\n           Product: R\n           Version: R-devel (trunk)\n          Hardware: All\n                OS: All\n            Status: UNCONFIRMED\n          Severity: minor\n          Priority: P5\n         Component: Graphics\n          Assignee: "
                            },
                            {
                                "type": "link",
                                "url": "mailto:R-core@R-project.org",
                                "text": "R-core@R-project.org",
                                "unsafe": true
                            },
                            {
                                "type": "text",
                                "text": "\n          Reporter: "
                            },
                            {
                                "type": "link",
                                "url": "mailto:trevor.l.davis@gmail.com",
                                "text": "trevor.l.davis@gmail.com"
                            },
                            {
                                "type": "text",
                                "text": "\n\nCreated attachment 3503\n  --> "
                            },
                            {
                                "type": "link",
                                "url": "https:\/\/bugs.r-project.org\/attachment.cgi?id=3503&amp;action=edit",
                                "text": "https:\/\/bugs.r-project.org\/attachment.cgi?id=3503&action=edit"
                            },
                            {
                                "type": "text",
                                "text": "\nPatch to allow "
                            },
                            {
                                "type": "text",
                                "text": "grid::convertUnit()",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " to convert to \"snpc\" units\n\nCurrently if you try to convert **to** \"snpc\" units with "
                            },
                            {
                                "type": "text",
                                "text": "grid::convertUnit()",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "\n(as used by "
                            },
                            {
                                "type": "text",
                                "text": "grid::convertX()",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": ", "
                            },
                            {
                                "type": "text",
                                "text": "grid::convertY()",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": ", "
                            },
                            {
                                "type": "text",
                                "text": "grid::convertHeight()",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": ",\nand "
                            },
                            {
                                "type": "text",
                                "text": "grid::convertWidth()",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": ") it throws an \"invalid unit or unit not yet\nimplemented\" error:\n\n"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_preformatted",
                        "elements": [
                            {
                                "type": "text",
                                "text": "library(\"grid\")\nlibrary(\"grDevices\")\npdf(NULL, width = 2, height = 1)\nunit(1, \"in\") |> convertWidth(\"snpc\")\ninvisible(dev.off())\n"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_preformatted",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Error in grid.Call(C_convert, x, as.integer(whatfrom), as.integer(whatto),  : \n  invalid unit or unit not yet implemented\n"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "\n\nI've included a patch to the underlying low-level "
                            },
                            {
                                "type": "text",
                                "text": "transformFromINCHES()",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "\nfunction that allows "
                            },
                            {
                                "type": "text",
                                "text": "grid::convertUnit()",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " to convert to \"snpc\" units along\nwith a couple of tests.  It will throw an error if the viewport has zero\ndimension(s).\n\nCurrently instead of directly using "
                            },
                            {
                                "type": "text",
                                "text": "grid",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "'s conversion functions like\n"
                            },
                            {
                                "type": "text",
                                "text": "convertWidth(x, \"snpc\")",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " one needs to instead manually convert to \"snpc\" units\nusing something like the following:\n\n"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_preformatted",
                        "elements": [
                            {
                                "type": "text",
                                "text": "pmax(convertWidth(x, \"npc\", valueOnly = TRUE),\n     convertWidth(x, \"npc\", valueOnly = TRUE)) |> unit(\"snpc\")\n"
                            }
                        ]
                    }
                ]
            }
        ]
    }
]