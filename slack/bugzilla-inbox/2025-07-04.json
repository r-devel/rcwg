[
    {
        "subtype": "bot_message",
        "text": "*[Bug 18913] Providing an accessor 'quiet()' to query the R_Quiet state from R*\n<https:\/\/bugs.r-project.org\/show_bug.cgi?id=18913>\n\n--- Comment #9 from Sebastian Meyer (<mailto:seb.meyer@fau.de|seb.meyer@fau.de>) ---\n(In reply to Martin Maechler from comment #8)\n&gt; ```\n&gt; $ R --vanilla --quiet --verbose \n&gt; 'verbose' and 'quietly' are both true; being verbose then ..\n&gt; ```\n&gt; so, actually we quite obnoxiously do \"warn\" and then actually are both\n&gt; verbose and quiet (not showing the startup message).\n\nThis spurious message was entirely `--verbose`-specific and is already fixed in\nR-devel (r88113, see my message on R-core from 2025-04-04). It had nothing to\ndo with `--quiet`.\n\n&gt; Probably this should be changed by reacting earlier, and just either the\n&gt; first or the last of the multiple settings.\n\nSometimes `verbose` and `quiet(ly)` arguments control separate things, such as\nin `library()`, where `verbose` is actually only passed to `find.package()`\n(but please see \"Issue 1\" in my e-mail). So maybe we could simply continue to\naccept `--verbose --quiet` to mean \"more information about progress\" but \"Don't\nprint startup message\" and enable both options, i.e., delegate potential\nconfusion to the functions making use of them?\n\nI don't think R --quiet is used a lot. I guess an enabled \"quiet\" option would\nthen mostly reflect a non-interactive Rscript-like `--no-echo` session -- as\nopposed to R CMD BATCH, which does \"echo\" on purpose.",
        "username": "r-bugs notifier",
        "icons": {
            "emoji": ":robot_face:"
        },
        "type": "message",
        "ts": "1751616732.636289",
        "bot_id": "B06769YJX9Q",
        "app_id": "A024R9PQM",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "oRxE2",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "[Bug 18913] Providing an accessor 'quiet()' to query the R_Quiet state from R",
                                "style": {
                                    "bold": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "\n"
                            },
                            {
                                "type": "link",
                                "url": "https:\/\/bugs.r-project.org\/show_bug.cgi?id=18913"
                            },
                            {
                                "type": "text",
                                "text": "\n\n--- Comment #9 from Sebastian Meyer ("
                            },
                            {
                                "type": "link",
                                "url": "mailto:seb.meyer@fau.de",
                                "text": "seb.meyer@fau.de"
                            },
                            {
                                "type": "text",
                                "text": ") ---\n(In reply to Martin Maechler from comment #8)"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_preformatted",
                        "elements": [
                            {
                                "type": "text",
                                "text": "> $ R --vanilla --quiet --verbose \n> 'verbose' and 'quietly' are both true; being verbose then ..\n> "
                            }
                        ],
                        "border": 1
                    },
                    {
                        "type": "rich_text_quote",
                        "elements": [
                            {
                                "type": "text",
                                "text": "so, actually we quite obnoxiously do \"warn\" and then actually are both\nverbose and quiet (not showing the startup message)."
                            }
                        ]
                    },
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "\n\nThis spurious message was entirely "
                            },
                            {
                                "type": "text",
                                "text": "--verbose",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "-specific and is already fixed in\nR-devel (r88113, see my message on R-core from 2025-04-04). It had nothing to\ndo with "
                            },
                            {
                                "type": "text",
                                "text": "--quiet",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": ".\n\n"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_quote",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Probably this should be changed by reacting earlier, and just either the\nfirst or the last of the multiple settings."
                            }
                        ]
                    },
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "\n\nSometimes "
                            },
                            {
                                "type": "text",
                                "text": "verbose",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " and "
                            },
                            {
                                "type": "text",
                                "text": "quiet(ly)",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " arguments control separate things, such as\nin "
                            },
                            {
                                "type": "text",
                                "text": "library()",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": ", where "
                            },
                            {
                                "type": "text",
                                "text": "verbose",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " is actually only passed to "
                            },
                            {
                                "type": "text",
                                "text": "find.package()",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "\n(but please see \"Issue 1\" in my e-mail). So maybe we could simply continue to\naccept "
                            },
                            {
                                "type": "text",
                                "text": "--verbose --quiet",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " to mean \"more information about progress\" but \"Don't\nprint startup message\" and enable both options, i.e., delegate potential\nconfusion to the functions making use of them?\n\nI don't think R --quiet is used a lot. I guess an enabled \"quiet\" option would\nthen mostly reflect a non-interactive Rscript-like "
                            },
                            {
                                "type": "text",
                                "text": "--no-echo",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " session -- as\nopposed to R CMD BATCH, which does \"echo\" on purpose."
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "subtype": "bot_message",
        "text": "*[Bug 18913] Providing an accessor 'quiet()' to query the R_Quiet state from R*\n<https:\/\/bugs.r-project.org\/show_bug.cgi?id=18913>\n\n--- Comment #10 from Martin Maechler (<mailto:maechler@stat.math.ethz.ch|maechler@stat.math.ethz.ch>) ---\n(In reply to Sebastian Meyer from comment #9)\n...\n&gt; &gt; $ R --vanilla --quiet --verbose \n&gt; &gt; 'verbose' and 'quietly' are both true; being verbose then ..\n&gt; &gt; ```\n&gt; &gt; so, actually we quite obnoxiously do \"warn\" and then actually are both\n&gt; &gt; verbose and quiet (not showing the startup message).\n&gt; \n&gt; This spurious message was entirely `--verbose`-specific and is already fixed\n&gt; in R-devel (r88113, see my message on R-core from 2025-04-04). It had\n&gt; nothing to do with `--quiet`.\n\nIndeed, thank you,  I found out, too, that it is unrelated,  and no longer\nappears in R-devel.\n\n...\n\n&gt; Sometimes `verbose` and `quiet(ly)` arguments control separate things, such\n&gt; as in `library()`, where `verbose` is actually only passed to\n&gt; `find.package()` (but please see \"Issue 1\" in my e-mail). So maybe we could\n&gt; simply continue to accept `--verbose --quiet` to mean \"more information\n&gt; about progress\" but \"Don't print startup message\" and enable both options,\n&gt; i.e., delegate potential confusion to the functions making use of them?\n\nI now (having seen more uses) agree.  With allowing both we just allow one more\noption in the combination of the too \"boolean\"s.\n\nIn the end hence, I think we should only introduce the new  `options(\"quiet\")`\nas extension to Dirk's original proposal.",
        "username": "r-bugs notifier",
        "icons": {
            "emoji": ":robot_face:"
        },
        "type": "message",
        "ts": "1751634013.026069",
        "bot_id": "B06769YJX9Q",
        "app_id": "A024R9PQM",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "FFP",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "[Bug 18913] Providing an accessor 'quiet()' to query the R_Quiet state from R",
                                "style": {
                                    "bold": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "\n"
                            },
                            {
                                "type": "link",
                                "url": "https:\/\/bugs.r-project.org\/show_bug.cgi?id=18913"
                            },
                            {
                                "type": "text",
                                "text": "\n\n--- Comment #10 from Martin Maechler ("
                            },
                            {
                                "type": "link",
                                "url": "mailto:maechler@stat.math.ethz.ch",
                                "text": "maechler@stat.math.ethz.ch",
                                "unsafe": true
                            },
                            {
                                "type": "text",
                                "text": ") ---\n(In reply to Sebastian Meyer from comment #9)\n...\n> > $ R --vanilla --quiet --verbose \n> > 'verbose' and 'quietly' are both true; being verbose then ..\n> > ```\n> > so, actually we quite obnoxiously do \"warn\" and then actually are both\n> > verbose and quiet (not showing the startup message)."
                            }
                        ]
                    },
                    {
                        "type": "rich_text_quote",
                        "elements": [
                            {
                                "type": "text",
                                "text": "\nThis spurious message was entirely "
                            },
                            {
                                "type": "text",
                                "text": "--verbose",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "-specific and is already fixed\nin R-devel (r88113, see my message on R-core from 2025-04-04). It had\nnothing to do with "
                            },
                            {
                                "type": "text",
                                "text": "--quiet",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "."
                            }
                        ]
                    },
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "\n\nIndeed, thank you,  I found out, too, that it is unrelated,  and no longer\nappears in R-devel.\n\n...\n\n"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_quote",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Sometimes "
                            },
                            {
                                "type": "text",
                                "text": "verbose",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " and "
                            },
                            {
                                "type": "text",
                                "text": "quiet(ly)",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " arguments control separate things, such\nas in "
                            },
                            {
                                "type": "text",
                                "text": "library()",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": ", where "
                            },
                            {
                                "type": "text",
                                "text": "verbose",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " is actually only passed to\n"
                            },
                            {
                                "type": "text",
                                "text": "find.package()",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " (but please see \"Issue 1\" in my e-mail). So maybe we could\nsimply continue to accept "
                            },
                            {
                                "type": "text",
                                "text": "--verbose --quiet",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " to mean \"more information\nabout progress\" but \"Don't print startup message\" and enable both options,\ni.e., delegate potential confusion to the functions making use of them?"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "\n\nI now (having seen more uses) agree.  With allowing both we just allow one more\noption in the combination of the too \"boolean\"s.\n\nIn the end hence, I think we should only introduce the new  "
                            },
                            {
                                "type": "text",
                                "text": "options(\"quiet\")",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "\nas extension to Dirk's original proposal."
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "subtype": "bot_message",
        "text": "*[Bug 18915] Allow `grid::convertUnit()`to convert to \"snpc\" units*\n<https:\/\/bugs.r-project.org\/show_bug.cgi?id=18915>\n\n--- Comment #1 from Trevor Davis (<mailto:trevor.l.davis@gmail.com|trevor.l.davis@gmail.com>) ---\nFor additional context here is the pre-existing code to convert \"snpc\" units\n*to* inches (lines 691--696 in `src\/library\/grid\/src\/unit.c`):\n\n```\n case L_SNPC:        \n    if (thisCM &lt;= otherCM)\n        result = (result * thisCM)\/2.54;\n    else                     \n        result = (result * otherCM)\/2.54;\n    break;\n```\n\nOur patch simply inverts this logic to convert \"snpc\" units *from* inches\nmimicking the style of the pre-existing code to convert the related \"npc\" units\n*from* inches (lines 1236--1238 in `src\/library\/grid\/src\/unit.c`):\n\n```\ncase L_NPC:      \n    result = result\/(thisCM\/2.54);\n    break;\n```",
        "username": "r-bugs notifier",
        "icons": {
            "emoji": ":robot_face:"
        },
        "type": "message",
        "ts": "1751647656.399289",
        "bot_id": "B06769YJX9Q",
        "app_id": "A024R9PQM",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "rUVR",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "[Bug 18915] Allow ",
                                "style": {
                                    "bold": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "grid::convertUnit()",
                                "style": {
                                    "bold": true,
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "to convert to \"snpc\" units",
                                "style": {
                                    "bold": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "\n"
                            },
                            {
                                "type": "link",
                                "url": "https:\/\/bugs.r-project.org\/show_bug.cgi?id=18915"
                            },
                            {
                                "type": "text",
                                "text": "\n\n--- Comment #1 from Trevor Davis ("
                            },
                            {
                                "type": "link",
                                "url": "mailto:trevor.l.davis@gmail.com",
                                "text": "trevor.l.davis@gmail.com"
                            },
                            {
                                "type": "text",
                                "text": ") ---\nFor additional context here is the pre-existing code to convert \"snpc\" units\n"
                            },
                            {
                                "type": "text",
                                "text": "to",
                                "style": {
                                    "bold": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " inches (lines 691--696 in "
                            },
                            {
                                "type": "text",
                                "text": "src\/library\/grid\/src\/unit.c",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "):\n\n"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_preformatted",
                        "elements": [
                            {
                                "type": "text",
                                "text": " case L_SNPC:        \n    if (thisCM <= otherCM)\n        result = (result * thisCM)\/2.54;\n    else                     \n        result = (result * otherCM)\/2.54;\n    break;\n"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "\n\nOur patch simply inverts this logic to convert \"snpc\" units "
                            },
                            {
                                "type": "text",
                                "text": "from",
                                "style": {
                                    "bold": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " inches\nmimicking the style of the pre-existing code to convert the related \"npc\" units\n"
                            },
                            {
                                "type": "text",
                                "text": "from",
                                "style": {
                                    "bold": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " inches (lines 1236--1238 in "
                            },
                            {
                                "type": "text",
                                "text": "src\/library\/grid\/src\/unit.c",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "):\n\n"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_preformatted",
                        "elements": [
                            {
                                "type": "text",
                                "text": "case L_NPC:      \n    result = result\/(thisCM\/2.54);\n    break;\n"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "subtype": "bot_message",
        "text": "*[Bug 18915] Allow `grid::convertUnit()`to convert to \"snpc\" units*\n<https:\/\/bugs.r-project.org\/show_bug.cgi?id=18915>\n\nTrevor Davis (<mailto:trevor.l.davis@gmail.com|trevor.l.davis@gmail.com>) changed:\n\n           What    |Removed                     |Added\n----------------------------------------------------------------------------\n   Attachment #3503|0                           |1\n        is obsolete|                            |\n\n--- Comment #2 from Trevor Davis (<mailto:trevor.l.davis@gmail.com|trevor.l.davis@gmail.com>) ---\nCreated attachment 3504\n  --&gt; <https:\/\/bugs.r-project.org\/attachment.cgi?id=3504&amp;action=edit>\nRevised patch that handles special case of zero unit in zero dimension viewport\n\nI've revised the patch to handle the special case of a zero unit in a zero\ndimension viewport and extended the new tests to cover these edge cases.\n\nOur logic is similar to how the existing code handles converting zero units in\nzero dimension viewports to \"npc\" units except in the \"snpc\" case one must also\nbe concerned with the `otherCM &lt; 1e-6` case:\n\n```\n    \/* Special case if \"thisCM == 0\":\n     * If converting FROM relative unit, result will already be zero \n     * so leave it there.\n     * If converting FROM absolute unit that is zero, ditto.\n     * Otherwise (converting FROM non-zero absolute unit), \n     * converting to relative unit is an error.\n     *\/\n    if ((unit == L_NATIVE || unit == L_NPC) &amp;&amp;\n        thisCM &lt; 1e-6) {\n        if (result != 0)\n            error(_(\"Viewport has zero dimension(s)\"));\n    } else {\n```",
        "username": "r-bugs notifier",
        "icons": {
            "emoji": ":robot_face:"
        },
        "type": "message",
        "ts": "1751694536.355279",
        "bot_id": "B06769YJX9Q",
        "app_id": "A024R9PQM",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "EM4\/j",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "[Bug 18915] Allow ",
                                "style": {
                                    "bold": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "grid::convertUnit()",
                                "style": {
                                    "bold": true,
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "to convert to \"snpc\" units",
                                "style": {
                                    "bold": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "\n"
                            },
                            {
                                "type": "link",
                                "url": "https:\/\/bugs.r-project.org\/show_bug.cgi?id=18915"
                            },
                            {
                                "type": "text",
                                "text": "\n\nTrevor Davis ("
                            },
                            {
                                "type": "link",
                                "url": "mailto:trevor.l.davis@gmail.com",
                                "text": "trevor.l.davis@gmail.com"
                            },
                            {
                                "type": "text",
                                "text": ") changed:\n\n           What    |Removed                     |Added\n----------------------------------------------------------------------------\n   Attachment #3503|0                           |1\n        is obsolete|                            |\n\n--- Comment #2 from Trevor Davis ("
                            },
                            {
                                "type": "link",
                                "url": "mailto:trevor.l.davis@gmail.com",
                                "text": "trevor.l.davis@gmail.com"
                            },
                            {
                                "type": "text",
                                "text": ") ---\nCreated attachment 3504\n  --> "
                            },
                            {
                                "type": "link",
                                "url": "https:\/\/bugs.r-project.org\/attachment.cgi?id=3504&amp;action=edit",
                                "text": "https:\/\/bugs.r-project.org\/attachment.cgi?id=3504&action=edit"
                            },
                            {
                                "type": "text",
                                "text": "\nRevised patch that handles special case of zero unit in zero dimension viewport\n\nI've revised the patch to handle the special case of a zero unit in a zero\ndimension viewport and extended the new tests to cover these edge cases.\n\nOur logic is similar to how the existing code handles converting zero units in\nzero dimension viewports to \"npc\" units except in the \"snpc\" case one must also\nbe concerned with the "
                            },
                            {
                                "type": "text",
                                "text": "otherCM < 1e-6",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " case:\n\n"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_preformatted",
                        "elements": [
                            {
                                "type": "text",
                                "text": "    \/* Special case if \"thisCM == 0\":\n     * If converting FROM relative unit, result will already be zero \n     * so leave it there.\n     * If converting FROM absolute unit that is zero, ditto.\n     * Otherwise (converting FROM non-zero absolute unit), \n     * converting to relative unit is an error.\n     *\/\n    if ((unit == L_NATIVE || unit == L_NPC) &&\n        thisCM < 1e-6) {\n        if (result != 0)\n            error(_(\"Viewport has zero dimension(s)\"));\n    } else {\n"
                            }
                        ]
                    }
                ]
            }
        ]
    }
]