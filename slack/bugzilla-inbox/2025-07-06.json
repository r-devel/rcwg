[
    {
        "subtype": "bot_message",
        "text": "*[Bug 18895] typos in names(precip)*\n<https:\/\/bugs.r-project.org\/show_bug.cgi?id=18895>\n\nSebastian Meyer (<mailto:seb.meyer@fau.de|seb.meyer@fau.de>) changed:\n\n           What    |Removed                     |Added\n----------------------------------------------------------------------------\n         Resolution|---                         |FIXED\n             Status|NEW                         |CLOSED\n\n--- Comment #4 from Sebastian Meyer (<mailto:seb.meyer@fau.de|seb.meyer@fau.de>) ---\nThe precipitation value for Richmond is contained in the \\source; it may have\nbeen excluded or overlooked in McNeil's book, but `precip` has it.\n\nThe two typos in `names(precip)` are now fixed in the trunk (r88388). The\nexamples in `help(precip)` show how to recreate the previous version.\n\n(The suggested rewording for the description of `uspop` is in r88389, thanks.)",
        "username": "r-bugs notifier",
        "icons": {
            "emoji": ":robot_face:"
        },
        "type": "message",
        "ts": "1751836787.153079",
        "bot_id": "B06769YJX9Q",
        "app_id": "A024R9PQM",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "58D",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "[Bug 18895] typos in names(precip)",
                                "style": {
                                    "bold": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "\n"
                            },
                            {
                                "type": "link",
                                "url": "https:\/\/bugs.r-project.org\/show_bug.cgi?id=18895"
                            },
                            {
                                "type": "text",
                                "text": "\n\nSebastian Meyer ("
                            },
                            {
                                "type": "link",
                                "url": "mailto:seb.meyer@fau.de",
                                "text": "seb.meyer@fau.de"
                            },
                            {
                                "type": "text",
                                "text": ") changed:\n\n           What    |Removed                     |Added\n----------------------------------------------------------------------------\n         Resolution|---                         |FIXED\n             Status|NEW                         |CLOSED\n\n--- Comment #4 from Sebastian Meyer ("
                            },
                            {
                                "type": "link",
                                "url": "mailto:seb.meyer@fau.de",
                                "text": "seb.meyer@fau.de"
                            },
                            {
                                "type": "text",
                                "text": ") ---\nThe precipitation value for Richmond is contained in the \\source; it may have\nbeen excluded or overlooked in McNeil's book, but "
                            },
                            {
                                "type": "text",
                                "text": "precip",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " has it.\n\nThe two typos in "
                            },
                            {
                                "type": "text",
                                "text": "names(precip)",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " are now fixed in the trunk (r88388). The\nexamples in "
                            },
                            {
                                "type": "text",
                                "text": "help(precip)",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " show how to recreate the previous version.\n\n(The suggested rewording for the description of "
                            },
                            {
                                "type": "text",
                                "text": "uspop",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " is in r88389, thanks.)"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "subtype": "bot_message",
        "text": "*[Bug 18255] requireNamespace doesn't behave as expected when namespace is already loaded*\n<https:\/\/bugs.r-project.org\/show_bug.cgi?id=18255>\n\nTrevor Davis (<mailto:trevor.l.davis@gmail.com|trevor.l.davis@gmail.com>) changed:\n\n           What    |Removed                     |Added\n----------------------------------------------------------------------------\n                 CC|                            |trevor.l.davis@gmail.com\n\n--- Comment #5 from Trevor Davis (<mailto:trevor.l.davis@gmail.com|trevor.l.davis@gmail.com>) ---\nCreated attachment 3505\n  --&gt; <https:\/\/bugs.r-project.org\/attachment.cgi?id=3505&amp;action=edit>\nFix `requireNamespace()` when namespace already loaded\n\nI've uploaded a patch that should fix this bug as well as\n[PR#18469](<https:\/\/bugs.r-project.org\/show_bug.cgi?id=18469>) (i.e.\n`requireNamespace()` also shouldn't strip any `\"LibPath\"` attribute from the\n`package` argument).\n\n&gt; I'm also considering to extend `loadNamespace()` which currently uses `versionCheck` (see example above) in the case the namespace is already loaded...to see if the `lib.loc` requirement of the namespace location is compatible with `getNamespaceInfo(ns, \"path\")` of the already loaded `ns`.\n\nThis patch should run such additional tests in the future if `loadNamespace()`\nchecks more rigorously the `lib.loc` requirement or `attr(package, \"LibPath\")`\nattribute when the namespace is already loaded i.e. the patch now runs\n`loadNamespace()` if\n\n```\nif (is.null(ns) || ...length() || !is.null(libpath)) {\n```\n\n&gt; I don't think that unloading the namespace is the correct thing to do, I think it is better to simply return FALSE in `requireNamespace()`.\n\nThis is currently how this patched version of `requireNamespace()` behaves\nright now.\n\nThe patch also adds the following simple test to `tests\/reg-tests-1e.R`:\n\n```\nversionCheck &lt;- list(op = \"&gt;\", version = getRversion())\nrequireNamespace(\"base\", quietly = TRUE, versionCheck = versionCheck) |&gt;\n    isFALSE() |&gt; stopifnot()\n```",
        "username": "r-bugs notifier",
        "icons": {
            "emoji": ":robot_face:"
        },
        "type": "message",
        "ts": "1751870755.557409",
        "bot_id": "B06769YJX9Q",
        "app_id": "A024R9PQM",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "El5",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "[Bug 18255] requireNamespace doesn't behave as expected when namespace is already loaded",
                                "style": {
                                    "bold": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "\n"
                            },
                            {
                                "type": "link",
                                "url": "https:\/\/bugs.r-project.org\/show_bug.cgi?id=18255"
                            },
                            {
                                "type": "text",
                                "text": "\n\nTrevor Davis ("
                            },
                            {
                                "type": "link",
                                "url": "mailto:trevor.l.davis@gmail.com",
                                "text": "trevor.l.davis@gmail.com"
                            },
                            {
                                "type": "text",
                                "text": ") changed:\n\n           What    |Removed                     |Added\n----------------------------------------------------------------------------\n                 CC|                            |trevor.l.davis@gmail.com\n\n--- Comment #5 from Trevor Davis ("
                            },
                            {
                                "type": "link",
                                "url": "mailto:trevor.l.davis@gmail.com",
                                "text": "trevor.l.davis@gmail.com"
                            },
                            {
                                "type": "text",
                                "text": ") ---\nCreated attachment 3505\n  --> "
                            },
                            {
                                "type": "link",
                                "url": "https:\/\/bugs.r-project.org\/attachment.cgi?id=3505&amp;action=edit",
                                "text": "https:\/\/bugs.r-project.org\/attachment.cgi?id=3505&action=edit"
                            },
                            {
                                "type": "text",
                                "text": "\nFix "
                            },
                            {
                                "type": "text",
                                "text": "requireNamespace()",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " when namespace already loaded\n\nI've uploaded a patch that should fix this bug as well as\n[PR#18469]("
                            },
                            {
                                "type": "link",
                                "url": "https:\/\/bugs.r-project.org\/show_bug.cgi?id=18469"
                            },
                            {
                                "type": "text",
                                "text": ") (i.e.\n"
                            },
                            {
                                "type": "text",
                                "text": "requireNamespace()",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " also shouldn't strip any "
                            },
                            {
                                "type": "text",
                                "text": "\"LibPath\"",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " attribute from the\n"
                            },
                            {
                                "type": "text",
                                "text": "package",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " argument).\n\n"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_quote",
                        "elements": [
                            {
                                "type": "text",
                                "text": "I'm also considering to extend "
                            },
                            {
                                "type": "text",
                                "text": "loadNamespace()",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " which currently uses "
                            },
                            {
                                "type": "text",
                                "text": "versionCheck",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " (see example above) in the case the namespace is already loaded...to see if the "
                            },
                            {
                                "type": "text",
                                "text": "lib.loc",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " requirement of the namespace location is compatible with "
                            },
                            {
                                "type": "text",
                                "text": "getNamespaceInfo(ns, \"path\")",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " of the already loaded "
                            },
                            {
                                "type": "text",
                                "text": "ns",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "."
                            }
                        ]
                    },
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "\n\nThis patch should run such additional tests in the future if "
                            },
                            {
                                "type": "text",
                                "text": "loadNamespace()",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "\nchecks more rigorously the "
                            },
                            {
                                "type": "text",
                                "text": "lib.loc",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " requirement or "
                            },
                            {
                                "type": "text",
                                "text": "attr(package, \"LibPath\")",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "\nattribute when the namespace is already loaded i.e. the patch now runs\n"
                            },
                            {
                                "type": "text",
                                "text": "loadNamespace()",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " if\n\n"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_preformatted",
                        "elements": [
                            {
                                "type": "text",
                                "text": "if (is.null(ns) || ...length() || !is.null(libpath)) {\n"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "\n\n"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_quote",
                        "elements": [
                            {
                                "type": "text",
                                "text": "I don't think that unloading the namespace is the correct thing to do, I think it is better to simply return FALSE in "
                            },
                            {
                                "type": "text",
                                "text": "requireNamespace()",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "."
                            }
                        ]
                    },
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "\n\nThis is currently how this patched version of "
                            },
                            {
                                "type": "text",
                                "text": "requireNamespace()",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " behaves\nright now.\n\nThe patch also adds the following simple test to "
                            },
                            {
                                "type": "text",
                                "text": "tests\/reg-tests-1e.R",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": ":\n\n"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_preformatted",
                        "elements": [
                            {
                                "type": "text",
                                "text": "versionCheck <- list(op = \">\", version = getRversion())\nrequireNamespace(\"base\", quietly = TRUE, versionCheck = versionCheck) |>\n    isFALSE() |> stopifnot()\n"
                            }
                        ]
                    }
                ]
            }
        ]
    }
]