[
    {
        "subtype": "bot_message",
        "text": "*[Bug 18919] [&lt;-.POSIXlt and [[&lt;-.POSIXlt do not reconcile time zones of 'x', 'value' before subassignment*\n<https:\/\/bugs.r-project.org\/show_bug.cgi?id=18919>\n\nMartin Maechler (<mailto:maechler@stat.math.ethz.ch|maechler@stat.math.ethz.ch>) changed:\n\n           What    |Removed                     |Added\n----------------------------------------------------------------------------\n             Status|UNCONFIRMED                 |CONFIRMED\n                 CC|                            |maechler@stat.math.ethz.ch\n     Ever confirmed|0                           |1\n\n--- Comment #2 from Martin Maechler (<mailto:maechler@stat.math.ethz.ch|maechler@stat.math.ethz.ch>) ---\nThank you, Mikael.  To me, all you say is correct.\nThe proposed changes do indeed pass all checks (incl your new short one)...\nand probably these make these important subassign methods for POSIXlt a bit\nslower.\n.. but correctness comes first.\n\nI'm checking against some \"suspicious\"\/\"notorious\" datetime-using CRAN packages\n.. but IIRC many\/most of these only use `POSIXct` (as they emphasize ease and\nspeed over the extra accuracy that's possible with `POSIXlt` ..).\n\n... and will commit your fix + test subsequently, unless I'd see surprises.",
        "username": "r-bugs notifier",
        "icons": {
            "emoji": ":robot_face:"
        },
        "type": "message",
        "ts": "1753177313.034429",
        "bot_id": "B06769YJX9Q",
        "app_id": "A024R9PQM",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "bmk",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "[Bug 18919] [<-.POSIXlt and [[<-.POSIXlt do not reconcile time zones of 'x', 'value' before subassignment",
                                "style": {
                                    "bold": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "\n"
                            },
                            {
                                "type": "link",
                                "url": "https:\/\/bugs.r-project.org\/show_bug.cgi?id=18919"
                            },
                            {
                                "type": "text",
                                "text": "\n\nMartin Maechler ("
                            },
                            {
                                "type": "link",
                                "url": "mailto:maechler@stat.math.ethz.ch",
                                "text": "maechler@stat.math.ethz.ch",
                                "unsafe": true
                            },
                            {
                                "type": "text",
                                "text": ") changed:\n\n           What    |Removed                     |Added\n----------------------------------------------------------------------------\n             Status|UNCONFIRMED                 |CONFIRMED\n                 CC|                            |maechler@stat.math.ethz.ch\n     Ever confirmed|0                           |1\n\n--- Comment #2 from Martin Maechler ("
                            },
                            {
                                "type": "link",
                                "url": "mailto:maechler@stat.math.ethz.ch",
                                "text": "maechler@stat.math.ethz.ch",
                                "unsafe": true
                            },
                            {
                                "type": "text",
                                "text": ") ---\nThank you, Mikael.  To me, all you say is correct.\nThe proposed changes do indeed pass all checks (incl your new short one)...\nand probably these make these important subassign methods for POSIXlt a bit\nslower.\n.. but correctness comes first.\n\nI'm checking against some \"suspicious\"\/\"notorious\" datetime-using CRAN packages\n.. but IIRC many\/most of these only use "
                            },
                            {
                                "type": "text",
                                "text": "POSIXct",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " (as they emphasize ease and\nspeed over the extra accuracy that's possible with "
                            },
                            {
                                "type": "text",
                                "text": "POSIXlt",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " ..).\n\n... and will commit your fix + test subsequently, unless I'd see surprises."
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "subtype": "bot_message",
        "text": "*[Bug 18919] [&lt;-.POSIXlt and [[&lt;-.POSIXlt do not reconcile time zones of 'x', 'value' before subassignment*\n<https:\/\/bugs.r-project.org\/show_bug.cgi?id=18919>\n\n--- Comment #3 from Mikael Jagan (<mailto:jaganmn@mcmaster.ca|jaganmn@mcmaster.ca>) ---\nThanks, Martin, though it seems that you have committed by accident attachment\n3509 instead of attachment 3510 ... ?",
        "username": "r-bugs notifier",
        "icons": {
            "emoji": ":robot_face:"
        },
        "type": "message",
        "ts": "1753186489.617799",
        "bot_id": "B06769YJX9Q",
        "app_id": "A024R9PQM",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "DglHc",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "[Bug 18919] [<-.POSIXlt and [[<-.POSIXlt do not reconcile time zones of 'x', 'value' before subassignment",
                                "style": {
                                    "bold": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "\n"
                            },
                            {
                                "type": "link",
                                "url": "https:\/\/bugs.r-project.org\/show_bug.cgi?id=18919"
                            },
                            {
                                "type": "text",
                                "text": "\n\n--- Comment #3 from Mikael Jagan ("
                            },
                            {
                                "type": "link",
                                "url": "mailto:jaganmn@mcmaster.ca",
                                "text": "jaganmn@mcmaster.ca"
                            },
                            {
                                "type": "text",
                                "text": ") ---\nThanks, Martin, though it seems that you have committed by accident attachment\n3509 instead of attachment 3510 ... ?"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "subtype": "bot_message",
        "text": "*[Bug 18919] [&lt;-.POSIXlt and [[&lt;-.POSIXlt do not reconcile time zones of 'x', 'value' before subassignment*\nhttps:\/\/bugs.r-project.org\/show_bug.cgi?id=18919\n\n--- Comment #4 from Martin Maechler (maechler@stat.math.ethz.ch) ---\n(In reply to Mikael Jagan from comment #3)\n&gt; Thanks, Martin, though it seems that you have committed by accident\n&gt; attachment 3509 instead of attachment 3510 ... ?\n\nYes, embarrassingly (working with more than one computer; failure in\nsynchronization...).\n\nSo, for the good cases, the final `class(x) &lt;- cl` does fixup the class again,\nhowever, it seems our (old + new one) regression checks did not show the\nnecessity of `x &lt;- unCfillPOSIXlt(x)` because in the end that had not\nhappened..",
        "username": "r-bugs notifier",
        "icons": {
            "emoji": ":robot_face:"
        },
        "type": "message",
        "ts": "1753190837.483799",
        "bot_id": "B06769YJX9Q",
        "app_id": "A024R9PQM",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "+Lc8j",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "[Bug 18919] [<-.POSIXlt and [[<-.POSIXlt do not reconcile time zones of 'x', 'value' before subassignment",
                                "style": {
                                    "bold": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "\nhttps:\/\/bugs.r-project.org\/show_bug.cgi?id=18919\n\n--- Comment #4 from Martin Maechler (maechler@stat.math.ethz.ch) ---\n(In reply to Mikael Jagan from comment #3)"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_quote",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Thanks, Martin, though it seems that you have committed by accident\nattachment 3509 instead of attachment 3510 ... ?"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "\n\nYes, embarrassingly (working with more than one computer; failure in\nsynchronization...).\n\nSo, for the good cases, the final "
                            },
                            {
                                "type": "text",
                                "text": "class(x) <- cl",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " does fixup the class again,\nhowever, it seems our (old + new one) regression checks did not show the\nnecessity of "
                            },
                            {
                                "type": "text",
                                "text": "x <- unCfillPOSIXlt(x)",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " because in the end that had not\nhappened.."
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "subtype": "bot_message",
        "text": "*[Bug 18919] [&lt;-.POSIXlt and [[&lt;-.POSIXlt do not reconcile time zones of 'x', 'value' before subassignment*\n<https:\/\/bugs.r-project.org\/show_bug.cgi?id=18919>\n\n--- Comment #5 from Mikael Jagan (<mailto:jaganmn@mcmaster.ca|jaganmn@mcmaster.ca>) ---\nYes, that was missed, perhaps because I puzzled over how best to create an\nunfilled `POSIXlt` object and then became distracted ...  Maybe something like\nthis:\n\n```\nn &lt;- 4L # &gt;= 3 for NA-filling in subassignment\nz1 &lt;- z2 &lt;- `attr&lt;-`(z &lt;- as.POSIXlt(.POSIXct(double(n), \"UTC\")),\n                     \"balanced\", NULL)\nz1$year &lt;- z2$year &lt;- z$year[1L]\nz1[n] &lt;- z2[[n]] &lt;- z[[1L]]\nidenticalPlt &lt;- function(x, y, ...) identical(balancePOSIXlt(x),\nbalancePOSIXlt(y), ...)\nstopifnot(identicalPlt(z1, z), identicalPlt(z2, z))\n```",
        "username": "r-bugs notifier",
        "icons": {
            "emoji": ":robot_face:"
        },
        "type": "message",
        "ts": "1753192353.465039",
        "bot_id": "B06769YJX9Q",
        "app_id": "A024R9PQM",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "pAw",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "[Bug 18919] [<-.POSIXlt and [[<-.POSIXlt do not reconcile time zones of 'x', 'value' before subassignment",
                                "style": {
                                    "bold": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "\n"
                            },
                            {
                                "type": "link",
                                "url": "https:\/\/bugs.r-project.org\/show_bug.cgi?id=18919"
                            },
                            {
                                "type": "text",
                                "text": "\n\n--- Comment #5 from Mikael Jagan ("
                            },
                            {
                                "type": "link",
                                "url": "mailto:jaganmn@mcmaster.ca",
                                "text": "jaganmn@mcmaster.ca"
                            },
                            {
                                "type": "text",
                                "text": ") ---\nYes, that was missed, perhaps because I puzzled over how best to create an\nunfilled "
                            },
                            {
                                "type": "text",
                                "text": "POSIXlt",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " object and then became distracted ...  Maybe something like\nthis:\n\n"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_preformatted",
                        "elements": [
                            {
                                "type": "text",
                                "text": "n <- 4L # >= 3 for NA-filling in subassignment\nz1 <- z2 <- `attr<-`(z <- as.POSIXlt(.POSIXct(double(n), \"UTC\")),\n                     \"balanced\", NULL)\nz1$year <- z2$year <- z$year[1L]\nz1[n] <- z2[[n]] <- z[[1L]]\nidenticalPlt <- function(x, y, ...) identical(balancePOSIXlt(x),\nbalancePOSIXlt(y), ...)\nstopifnot(identicalPlt(z1, z), identicalPlt(z2, z))\n"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "subtype": "bot_message",
        "text": "*[Bug 18681] [.POSIXlt sets \"balanced\" attribute wrongly*\n<https:\/\/bugs.r-project.org\/show_bug.cgi?id=18681>\n\n--- Comment #7 from Mikael Jagan (<mailto:jaganmn@mcmaster.ca|jaganmn@mcmaster.ca>) ---\nIt occurs to me while typing bug 18919 comment 5 that `[[.POSIXlt` does not set\nthe `balanced` attribute of the return value.  It probably should for\nconsistency with `[.POSIXlt`.  Mentioning here as it is clearly related.",
        "username": "r-bugs notifier",
        "icons": {
            "emoji": ":robot_face:"
        },
        "type": "message",
        "ts": "1753192645.745829",
        "bot_id": "B06769YJX9Q",
        "app_id": "A024R9PQM",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "gxYo",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "[Bug 18681] [.POSIXlt sets \"balanced\" attribute wrongly",
                                "style": {
                                    "bold": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "\n"
                            },
                            {
                                "type": "link",
                                "url": "https:\/\/bugs.r-project.org\/show_bug.cgi?id=18681"
                            },
                            {
                                "type": "text",
                                "text": "\n\n--- Comment #7 from Mikael Jagan ("
                            },
                            {
                                "type": "link",
                                "url": "mailto:jaganmn@mcmaster.ca",
                                "text": "jaganmn@mcmaster.ca"
                            },
                            {
                                "type": "text",
                                "text": ") ---\nIt occurs to me while typing bug 18919 comment 5 that "
                            },
                            {
                                "type": "text",
                                "text": "[[.POSIXlt",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " does not set\nthe "
                            },
                            {
                                "type": "text",
                                "text": "balanced",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " attribute of the return value.  It probably should for\nconsistency with "
                            },
                            {
                                "type": "text",
                                "text": "[.POSIXlt",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": ".  Mentioning here as it is clearly related."
                            }
                        ]
                    }
                ]
            }
        ]
    }
]