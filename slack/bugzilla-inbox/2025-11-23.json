[
    {
        "subtype": "bot_message",
        "text": "*[Bug 18971] New: all.equal examples are wrong, check.class is ignored*\n<https:\/\/bugs.r-project.org\/show_bug.cgi?id=18971>\n\n            Bug ID: 18971\n           Summary: all.equal examples are wrong, check.class is ignored\n           Product: R\n           Version: R-devel (trunk)\n          Hardware: x86_64\/x64\/amd64 (64-bit)\n                OS: Linux-Fedora\n            Status: UNCONFIRMED\n          Severity: normal\n          Priority: P5\n         Component: Accuracy\n          Assignee: <mailto:R-core@R-project.org|R-core@R-project.org>\n          Reporter: <mailto:j.gorecki@wit.edu.pl|j.gorecki@wit.edu.pl>\n\nExamples from ?all.equal\n\n```r\ntwo &lt;- structure(2, foo = 1, class = \"bar\")\nall.equal(two^20, 2^20) # lots of diff\nall.equal(two^20, 2^20, check.attributes = FALSE)# \"target is bar, current is\nnumeric\"\nall.equal(two^20, 2^20, check.attributes = FALSE, check.class = FALSE) # TRUE\n```\n\nLast one does not return TRUE. check.class=F is ignored.\nThe issue is that two^20 dispatches to default method and not numeric. If we\nswap arguments it returns as expected.\nPossibly all that is needed is to include passing this argument in the line\n<https:\/\/github.com\/wch\/r-source\/blob\/3936569f0129786b0e2d20c936a2229118e7bfb7\/src\/library\/base\/R\/all.equal.R#L67>",
        "username": "r-bugs notifier",
        "icons": {
            "emoji": ":robot_face:"
        },
        "type": "message",
        "ts": "1763933956.245349",
        "bot_id": "B06769YJX9Q",
        "app_id": "A024R9PQM",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "ceF4",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "[Bug 18971] New: all.equal examples are wrong, check.class is ignored",
                                "style": {
                                    "bold": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "\n"
                            },
                            {
                                "type": "link",
                                "url": "https:\/\/bugs.r-project.org\/show_bug.cgi?id=18971"
                            },
                            {
                                "type": "text",
                                "text": "\n\n            Bug ID: 18971\n           Summary: all.equal examples are wrong, check.class is ignored\n           Product: R\n           Version: R-devel (trunk)\n          Hardware: x86_64\/x64\/amd64 (64-bit)\n                OS: Linux-Fedora\n            Status: UNCONFIRMED\n          Severity: normal\n          Priority: P5\n         Component: Accuracy\n          Assignee: "
                            },
                            {
                                "type": "link",
                                "url": "mailto:R-core@R-project.org",
                                "text": "R-core@R-project.org",
                                "unsafe": true
                            },
                            {
                                "type": "text",
                                "text": "\n          Reporter: "
                            },
                            {
                                "type": "link",
                                "url": "mailto:j.gorecki@wit.edu.pl",
                                "text": "j.gorecki@wit.edu.pl",
                                "unsafe": true
                            },
                            {
                                "type": "text",
                                "text": "\n\nExamples from ?all.equal\n\n"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_preformatted",
                        "elements": [
                            {
                                "type": "text",
                                "text": "r\ntwo <- structure(2, foo = 1, class = \"bar\")\nall.equal(two^20, 2^20) # lots of diff\nall.equal(two^20, 2^20, check.attributes = FALSE)# \"target is bar, current is\nnumeric\"\nall.equal(two^20, 2^20, check.attributes = FALSE, check.class = FALSE) # TRUE\n"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "\n\nLast one does not return TRUE. check.class=F is ignored.\nThe issue is that two^20 dispatches to default method and not numeric. If we\nswap arguments it returns as expected.\nPossibly all that is needed is to include passing this argument in the line\n"
                            },
                            {
                                "type": "link",
                                "url": "https:\/\/github.com\/wch\/r-source\/blob\/3936569f0129786b0e2d20c936a2229118e7bfb7\/src\/library\/base\/R\/all.equal.R#L67"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "subtype": "bot_message",
        "text": "*[Bug 18971] all.equal examples are wrong, check.class is ignored*\n<https:\/\/bugs.r-project.org\/show_bug.cgi?id=18971>\n\n--- Comment #1 from Jan Gorecki (<mailto:j.gorecki@wit.edu.pl|j.gorecki@wit.edu.pl>) ---\nThis should possibly go as a separate bug report...\n\n`use.names=TRUE` seems to be also ignored:\n\n```r\nall.equal(list(a=\"a\", b=\"b\"), list(b=\"b\", a=\"a\"), use.names=TRUE)\n#[1] \"Names: 2 string mismatches\"     \"Component 1: 1 string mismatch\"\n\"Component 2: 1 string mismatch\"\n```",
        "username": "r-bugs notifier",
        "icons": {
            "emoji": ":robot_face:"
        },
        "type": "message",
        "ts": "1763934932.751309",
        "bot_id": "B06769YJX9Q",
        "app_id": "A024R9PQM",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "35t8E",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "[Bug 18971] all.equal examples are wrong, check.class is ignored",
                                "style": {
                                    "bold": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "\n"
                            },
                            {
                                "type": "link",
                                "url": "https:\/\/bugs.r-project.org\/show_bug.cgi?id=18971"
                            },
                            {
                                "type": "text",
                                "text": "\n\n--- Comment #1 from Jan Gorecki ("
                            },
                            {
                                "type": "link",
                                "url": "mailto:j.gorecki@wit.edu.pl",
                                "text": "j.gorecki@wit.edu.pl",
                                "unsafe": true
                            },
                            {
                                "type": "text",
                                "text": ") ---\nThis should possibly go as a separate bug report...\n\n"
                            },
                            {
                                "type": "text",
                                "text": "use.names=TRUE",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " seems to be also ignored:\n\n"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_preformatted",
                        "elements": [
                            {
                                "type": "text",
                                "text": "r\nall.equal(list(a=\"a\", b=\"b\"), list(b=\"b\", a=\"a\"), use.names=TRUE)\n#[1] \"Names: 2 string mismatches\"     \"Component 1: 1 string mismatch\"\n\"Component 2: 1 string mismatch\"\n"
                            }
                        ]
                    }
                ]
            }
        ]
    }
]