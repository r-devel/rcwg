[
    {
        "subtype": "bot_message",
        "text": "*[Bug 18983] 'which.min' and 'which.max' supporting classes with methods for 'xtfrm'*\n<https:\/\/bugs.r-project.org\/show_bug.cgi?id=18983>\n\nKurt Hornik (<mailto:Kurt.Hornik@wu.ac.at|Kurt.Hornik@wu.ac.at>) changed:\n\n           What    |Removed                     |Added\n----------------------------------------------------------------------------\n             Status|UNCONFIRMED                 |CLOSED\n         Resolution|---                         |FIXED\n                 CC|                            |Kurt.Hornik@wu.ac.at\n\n--- Comment #1 from Kurt Hornik (<mailto:Kurt.Hornik@wu.ac.at|Kurt.Hornik@wu.ac.at>) ---\nGreat, thanks: committed now.",
        "username": "r-bugs notifier",
        "icons": {
            "emoji": ":robot_face:"
        },
        "type": "message",
        "ts": "1766585647.184639",
        "bot_id": "B06769YJX9Q",
        "app_id": "A024R9PQM",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "OEw",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "[Bug 18983] 'which.min' and 'which.max' supporting classes with methods for 'xtfrm'",
                                "style": {
                                    "bold": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "\n"
                            },
                            {
                                "type": "link",
                                "url": "https:\/\/bugs.r-project.org\/show_bug.cgi?id=18983"
                            },
                            {
                                "type": "text",
                                "text": "\n\nKurt Hornik ("
                            },
                            {
                                "type": "link",
                                "url": "mailto:Kurt.Hornik@wu.ac.at",
                                "text": "Kurt.Hornik@wu.ac.at",
                                "unsafe": true
                            },
                            {
                                "type": "text",
                                "text": ") changed:\n\n           What    |Removed                     |Added\n----------------------------------------------------------------------------\n             Status|UNCONFIRMED                 |CLOSED\n         Resolution|---                         |FIXED\n                 CC|                            |Kurt.Hornik@wu.ac.at\n\n--- Comment #1 from Kurt Hornik ("
                            },
                            {
                                "type": "link",
                                "url": "mailto:Kurt.Hornik@wu.ac.at",
                                "text": "Kurt.Hornik@wu.ac.at",
                                "unsafe": true
                            },
                            {
                                "type": "text",
                                "text": ") ---\nGreat, thanks: committed now."
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "subtype": "bot_message",
        "text": "*[Bug 18983] 'which.min' and 'which.max' supporting classes with methods for 'xtfrm'*\n<https:\/\/bugs.r-project.org\/show_bug.cgi?id=18983>\n\n--- Comment #2 from Mikael Jagan (<mailto:jaganmn@mcmaster.ca|jaganmn@mcmaster.ca>) ---\nI guess, to defend against invalid `xtfrm(x)`, we could test ...\n\n```\nIndex: src\/main\/summary.c\n===================================================================\n--- src\/main\/summary.c  (revision 89226)\n+++ src\/main\/summary.c  (working copy)\n@@ -1035,6 +1035,8 @@\n     if (OBJECT(sx)) {\n        SEXP call = PROTECT(lang2(install(\"xtfrm\"), sx)); nprot++;\n        PROTECT(sx = eval(call, rho)); nprot++;\n+       if (!isNumeric(sx))\n+           error(_(\"%s is not numeric\"), \"xtfrm(x)\");\n     } else\n     if (!isNumeric(sx)) {\n        PROTECT(sx = coerceVector(CAR(args), REALSXP)); nprot++;\n```\n\nWithout the test, the behaviour is as if `x` were empty, since the `switch`\nstatement is a no-op.",
        "username": "r-bugs notifier",
        "icons": {
            "emoji": ":robot_face:"
        },
        "type": "message",
        "ts": "1766590076.210409",
        "bot_id": "B06769YJX9Q",
        "app_id": "A024R9PQM",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "d7ax",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "[Bug 18983] 'which.min' and 'which.max' supporting classes with methods for 'xtfrm'",
                                "style": {
                                    "bold": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "\n"
                            },
                            {
                                "type": "link",
                                "url": "https:\/\/bugs.r-project.org\/show_bug.cgi?id=18983"
                            },
                            {
                                "type": "text",
                                "text": "\n\n--- Comment #2 from Mikael Jagan ("
                            },
                            {
                                "type": "link",
                                "url": "mailto:jaganmn@mcmaster.ca",
                                "text": "jaganmn@mcmaster.ca"
                            },
                            {
                                "type": "text",
                                "text": ") ---\nI guess, to defend against invalid "
                            },
                            {
                                "type": "text",
                                "text": "xtfrm(x)",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": ", we could test ...\n\n"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_preformatted",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Index: src\/main\/summary.c\n===================================================================\n--- src\/main\/summary.c  (revision 89226)\n+++ src\/main\/summary.c  (working copy)\n@@ -1035,6 +1035,8 @@\n     if (OBJECT(sx)) {\n        SEXP call = PROTECT(lang2(install(\"xtfrm\"), sx)); nprot++;\n        PROTECT(sx = eval(call, rho)); nprot++;\n+       if (!isNumeric(sx))\n+           error(_(\"%s is not numeric\"), \"xtfrm(x)\");\n     } else\n     if (!isNumeric(sx)) {\n        PROTECT(sx = coerceVector(CAR(args), REALSXP)); nprot++;\n"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "\n\nWithout the test, the behaviour is as if "
                            },
                            {
                                "type": "text",
                                "text": "x",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " were empty, since the "
                            },
                            {
                                "type": "text",
                                "text": "switch",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "\nstatement is a no-op."
                            }
                        ]
                    }
                ]
            }
        ]
    }
]