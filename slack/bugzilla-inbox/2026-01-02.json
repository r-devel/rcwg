[
    {
        "subtype": "bot_message",
        "text": "*[Bug 14977] Problem with centroid method in hclust function*\n<https:\/\/bugs.r-project.org\/show_bug.cgi?id=14977>\n\nMartin Maechler (<mailto:maechler@stat.math.ethz.ch|maechler@stat.math.ethz.ch>) changed:\n\n           What    |Removed                     |Added\n----------------------------------------------------------------------------\n           Hardware|ix86 (32-bit)               |All\n\n--- Comment #5 from Martin Maechler (<mailto:maechler@stat.math.ethz.ch|maechler@stat.math.ethz.ch>) ---\n(In reply to Martin Maechler from comment #4)\n&gt; I have finally added an extra \"Note\" to the `?hclust` help file, which mentions that centroid typically is to be used with squared euclidean distances.\n\nI've been contacted in private by Pierre Legendre, Prof. em. at Univ. Waterloo\nwho has taught, researched and written books on multivariate data analysis,\nincl clustering, e.g., Legendre &amp; Legendre (2010) Numerical ecology; and a\nuseR! series \"Numerical Ecology with R\",\n<https:\/\/link.springer.com\/book\/10.1007\/978-1-4419-7976-6> .\n\nHe also agrees that `hclust(*, method=\"centroid\")` does what it should do, also\nconforming to the fundamental Gower(1966) paper of the subject. He then\nconcludes (and asked me to put it here):\n\n&gt; Conclusion: the new hclust() function in package stats is performing exactly as it should. You can thus remove the sentence added to accommodate the Bugzilla  report of a bug in hclust:\n\n&gt;   \"Method \"centroid\" is typically meant to be used with squared Euclidean distances\"\n\n&gt; which gives misleading information to users.\n\nI do not quite agree, as we have seen examples where using  (d_ij)^2 instead of\nd_ij  were more appropriate to the problem at hand.\n\nI will however modify the sentence above, not using  _\"typically meant\"_\n\nMy current proposal being\n\n --------------------------------------------------------------------------\n Method `\"centroid\"` has been recommended to be used with _squared_\n Euclidean distances `dist(*)^2`, i.e., clustering differently than\n the traditional UPGMC, where other authors strongly prefer the original.     \n ---------------------------------------------------------------------------",
        "username": "r-bugs notifier",
        "icons": {
            "emoji": ":robot_face:"
        },
        "type": "message",
        "ts": "1767354925.627959",
        "bot_id": "B06769YJX9Q",
        "app_id": "A024R9PQM",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "Vdgv",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "[Bug 14977] Problem with centroid method in hclust function",
                                "style": {
                                    "bold": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "\n"
                            },
                            {
                                "type": "link",
                                "url": "https:\/\/bugs.r-project.org\/show_bug.cgi?id=14977"
                            },
                            {
                                "type": "text",
                                "text": "\n\nMartin Maechler ("
                            },
                            {
                                "type": "link",
                                "url": "mailto:maechler@stat.math.ethz.ch",
                                "text": "maechler@stat.math.ethz.ch",
                                "unsafe": true
                            },
                            {
                                "type": "text",
                                "text": ") changed:\n\n           What    |Removed                     |Added\n----------------------------------------------------------------------------\n           Hardware|ix86 (32-bit)               |All\n\n--- Comment #5 from Martin Maechler ("
                            },
                            {
                                "type": "link",
                                "url": "mailto:maechler@stat.math.ethz.ch",
                                "text": "maechler@stat.math.ethz.ch",
                                "unsafe": true
                            },
                            {
                                "type": "text",
                                "text": ") ---\n(In reply to Martin Maechler from comment #4)"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_quote",
                        "elements": [
                            {
                                "type": "text",
                                "text": "I have finally added an extra \"Note\" to the "
                            },
                            {
                                "type": "text",
                                "text": "?hclust",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " help file, which mentions that centroid typically is to be used with squared euclidean distances."
                            }
                        ],
                        "contains_padding": true
                    },
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "\n\nI've been contacted in private by Pierre Legendre, Prof. em. at Univ. Waterloo\nwho has taught, researched and written books on multivariate data analysis,\nincl clustering, e.g., Legendre & Legendre (2010) Numerical ecology; and a\nuseR! series \"Numerical Ecology with R\",\n"
                            },
                            {
                                "type": "link",
                                "url": "https:\/\/link.springer.com\/book\/10.1007\/978-1-4419-7976-6"
                            },
                            {
                                "type": "text",
                                "text": " .\n\nHe also agrees that "
                            },
                            {
                                "type": "text",
                                "text": "hclust(*, method=\"centroid\")",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " does what it should do, also\nconforming to the fundamental Gower(1966) paper of the subject. He then\nconcludes (and asked me to put it here):\n\n"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_quote",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Conclusion: the new hclust() function in package stats is performing exactly as it should. You can thus remove the sentence added to accommodate the Bugzilla  report of a bug in hclust:"
                            }
                        ],
                        "contains_padding": true
                    },
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "\n\n"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_quote",
                        "elements": [
                            {
                                "type": "text",
                                "text": "  \"Method \"centroid\" is typically meant to be used with squared Euclidean distances\""
                            }
                        ],
                        "contains_padding": true
                    },
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "\n\n"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_quote",
                        "elements": [
                            {
                                "type": "text",
                                "text": "which gives misleading information to users."
                            }
                        ],
                        "contains_padding": true
                    },
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "\n\nI do not quite agree, as we have seen examples where using  (d_ij)^2 instead of\nd_ij  were more appropriate to the problem at hand.\n\nI will however modify the sentence above, not using  "
                            },
                            {
                                "type": "text",
                                "text": "\"typically meant\"",
                                "style": {
                                    "italic": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "\n\nMy current proposal being\n\n --------------------------------------------------------------------------\n Method "
                            },
                            {
                                "type": "text",
                                "text": "\"centroid\"",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " has been recommended to be used with "
                            },
                            {
                                "type": "text",
                                "text": "squared",
                                "style": {
                                    "italic": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "\n Euclidean distances "
                            },
                            {
                                "type": "text",
                                "text": "dist(*)^2",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": ", i.e., clustering differently than\n the traditional UPGMC, where other authors strongly prefer the original.     \n ---------------------------------------------------------------------------"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "subtype": "bot_message",
        "text": "*[Bug 18988] New: Unifying similar messages for translation*\n<https:\/\/bugs.r-project.org\/show_bug.cgi?id=18988>\n\n            Bug ID: 18988\n           Summary: Unifying similar messages for translation\n           Product: R\n           Version: R-devel (trunk)\n          Hardware: All\n                OS: All\n            Status: UNCONFIRMED\n          Severity: minor\n          Priority: P5\n         Component: Translations\n          Assignee: <mailto:R-core@R-project.org|R-core@R-project.org>\n          Reporter: <mailto:michaelchirico4@gmail.com|michaelchirico4@gmail.com>\n\nCreated attachment 3592\n  --&gt; <https:\/\/bugs.r-project.org\/attachment.cgi?id=3592&amp;action=edit>\nUnify messages in R-base.pot\n\nI am experimenting a bit with using LLMs to identify messages in .pot files\nwhich should be unified. I think they are pretty well-suited to the task.\n\nThe attached patch has a first pass (low-hanging fruit) at R-base.pot (i.e.,\nthe messages generated from R in {bases}). Gemini identified the similar\nmessages, and I edited the files.\n\nRemoving highly-correlated messages like this eases the burden on translation\nteams, who can avoid the tedium of translating ~the same message over and over.\nIt also improves the end user experience by minimizing the opportunity for the\nsame message to be translated slightly differently. The tradeoff is on the\ndevelopers who have to keep this goal in mind when crafting messages. We might\navoid this by adding a step to the translation release process that scans the\nsources for similar messages before any new extraction to .pot, so that only\nthe translations maintainer needs to think too carefully about this.\n\nSome further notes about the actual changes:\n\n - We have `invalid '%s'` and `invalid %s` separately, we might consider\nputting the `'` into the templated part to have only `invalid %s`. OTOH, `'`\ncould be a useful signal to the translator, so I left it as is for now.\n - I landed on `'%s' is not` (i.e., wrapping with `'` and using \"is\") for\nconsistency across the Date\/POSIXt\/difftime method messages like `'%s' is not\ndefined for \"%s\" objects`\n - We have both `bad '%s' argument` and `invalid '%s' argument`, they could\nprobably be unified to `invalid '%s' argument`.\n\nLastly, this exercise can easily be repeated:\n\n 1. For all the individual .pot files in the R sources\n 2. For identifying opportunities to re-use messages across the different\ndomains (e.g. using `gettext(\"Invalid 'file' argument\", domain=\"R-base\")` in\nutils\/R\/* to avoid generating `Invalid 'file' argument` for independent\ntranslation in utils\/po\/R-utils.pot). This has a lot of opportunity to reduce\nduplicate translations of identical strings, but also has a lot of developer\noverhead.",
        "username": "r-bugs notifier",
        "icons": {
            "emoji": ":robot_face:"
        },
        "type": "message",
        "ts": "1767380348.055679",
        "bot_id": "B06769YJX9Q",
        "app_id": "A024R9PQM",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "f1Kuh",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "[Bug 18988] New: Unifying similar messages for translation",
                                "style": {
                                    "bold": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "\n"
                            },
                            {
                                "type": "link",
                                "url": "https:\/\/bugs.r-project.org\/show_bug.cgi?id=18988"
                            },
                            {
                                "type": "text",
                                "text": "\n\n            Bug ID: 18988\n           Summary: Unifying similar messages for translation\n           Product: R\n           Version: R-devel (trunk)\n          Hardware: All\n                OS: All\n            Status: UNCONFIRMED\n          Severity: minor\n          Priority: P5\n         Component: Translations\n          Assignee: "
                            },
                            {
                                "type": "link",
                                "url": "mailto:R-core@R-project.org",
                                "text": "R-core@R-project.org",
                                "unsafe": true
                            },
                            {
                                "type": "text",
                                "text": "\n          Reporter: "
                            },
                            {
                                "type": "link",
                                "url": "mailto:michaelchirico4@gmail.com",
                                "text": "michaelchirico4@gmail.com"
                            },
                            {
                                "type": "text",
                                "text": "\n\nCreated attachment 3592\n  --> "
                            },
                            {
                                "type": "link",
                                "url": "https:\/\/bugs.r-project.org\/attachment.cgi?id=3592&amp;action=edit",
                                "text": "https:\/\/bugs.r-project.org\/attachment.cgi?id=3592&action=edit"
                            },
                            {
                                "type": "text",
                                "text": "\nUnify messages in R-base.pot\n\nI am experimenting a bit with using LLMs to identify messages in .pot files\nwhich should be unified. I think they are pretty well-suited to the task.\n\nThe attached patch has a first pass (low-hanging fruit) at R-base.pot (i.e.,\nthe messages generated from R in {bases}). Gemini identified the similar\nmessages, and I edited the files.\n\nRemoving highly-correlated messages like this eases the burden on translation\nteams, who can avoid the tedium of translating ~the same message over and over.\nIt also improves the end user experience by minimizing the opportunity for the\nsame message to be translated slightly differently. The tradeoff is on the\ndevelopers who have to keep this goal in mind when crafting messages. We might\navoid this by adding a step to the translation release process that scans the\nsources for similar messages before any new extraction to .pot, so that only\nthe translations maintainer needs to think too carefully about this.\n\nSome further notes about the actual changes:\n\n - We have "
                            },
                            {
                                "type": "text",
                                "text": "invalid '%s'",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " and "
                            },
                            {
                                "type": "text",
                                "text": "invalid %s",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " separately, we might consider\nputting the "
                            },
                            {
                                "type": "text",
                                "text": "'",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " into the templated part to have only "
                            },
                            {
                                "type": "text",
                                "text": "invalid %s",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": ". OTOH, "
                            },
                            {
                                "type": "text",
                                "text": "'",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "\ncould be a useful signal to the translator, so I left it as is for now.\n - I landed on "
                            },
                            {
                                "type": "text",
                                "text": "'%s' is not",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " (i.e., wrapping with "
                            },
                            {
                                "type": "text",
                                "text": "'",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " and using \"is\") for\nconsistency across the Date\/POSIXt\/difftime method messages like `'%s' is not\ndefined for \"%s\" objects`\n - We have both "
                            },
                            {
                                "type": "text",
                                "text": "bad '%s' argument",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " and "
                            },
                            {
                                "type": "text",
                                "text": "invalid '%s' argument",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": ", they could\nprobably be unified to "
                            },
                            {
                                "type": "text",
                                "text": "invalid '%s' argument",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": ".\n\nLastly, this exercise can easily be repeated:\n\n 1. For all the individual .pot files in the R sources\n 2. For identifying opportunities to re-use messages across the different\ndomains (e.g. using "
                            },
                            {
                                "type": "text",
                                "text": "gettext(\"Invalid 'file' argument\", domain=\"R-base\")",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " in\nutils\/R\/* to avoid generating "
                            },
                            {
                                "type": "text",
                                "text": "Invalid 'file' argument",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " for independent\ntranslation in utils\/po\/R-utils.pot). This has a lot of opportunity to reduce\nduplicate translations of identical strings, but also has a lot of developer\noverhead."
                            }
                        ]
                    }
                ]
            }
        ]
    }
]